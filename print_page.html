
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://fjavier-hernandez.github.io/aso/print_page.html">
      
      
      
      
      <link rel="icon" href="imagenes/aso.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>Print Site - Administración de Sistemas Operativos</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL("/aso/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-0CPJP88MBF"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-0CPJP88MBF",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-0CPJP88MBF",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="javi" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#index" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="index.html" title="Administración de Sistemas Operativos" class="md-header__button md-logo" aria-label="Administración de Sistemas Operativos" data-md-component="logo">
      
  <img src="imagenes/aso.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Administración de Sistemas Operativos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Print Site
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="javi" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Cambiar a modo noche"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo noche" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Cambiar a modo día"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo día" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Administración de Sistemas Operativos" class="md-nav__button md-logo" aria-label="Administración de Sistemas Operativos" data-md-component="logo">
      
  <img src="imagenes/aso.svg" alt="logo">

    </a>
    Administración de Sistemas Operativos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inicio
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="01ShellScript.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1.- ShellScripting
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="02PowerShell.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2.- PowerShell
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index" class="md-nav__link">
    <span class="md-ellipsis">
      Inicio
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#01shellscript" class="md-nav__link">
    <span class="md-ellipsis">
      1.- ShellScripting
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#02powershell" class="md-nav__link">
    <span class="md-ellipsis">
      2.- PowerShell
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<div id="print-site-page" class="print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Tabla de contenidos</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="index" heading-number="1"><h1 id="index-administracion-de-sistemas-operativos">Administración de Sistemas Operativos<a class="headerlink" href="#index-administracion-de-sistemas-operativos" title="Permanent link">&para;</a></h1>
<p>Aquí puedes encontrar los apuntes y actividades del módulo 0374 de <strong><em>Administración de Sistemas Operativos</em></strong> del <abbr title="Ciclo Formativo de Grado Superior">CFGS</abbr> de <em>Administración de Sistemas Informáticos en Red</em> (<abbr title="Administración de sistemas informáticos en red">ASIR</abbr>), cuyo currículo viene fijado por el <a href="https://www.boe.es/boe/dias/2009/11/18/pdfs/BOE-A-2009-18355.pdf">Real Decreto 1629/2009</a>, impartido en el <a href="https://portal.edu.gva.es/iesmaciaabela/">IES Macià Abela</a> de Crevillente.</p>
<h2 id="index-competencias-profesionales">Competencias profesionales<a class="headerlink" href="#index-competencias-profesionales" title="Permanent link">&para;</a></h2>
<p>Las <ins>competencias</ins> que se trabajan en este curso son:</p>
<ul>
<li>(1) Administrar sistemas operativos de servidor, instalando y configurando el software, en condiciones de calidad para asegurar el funcionamiento del sistema.</li>
<li>(3) Administrar aplicaciones instalando y configurando el software, en condiciones de calidad para responder a las necesidades de la organización.</li>
<li>(12) Administrar usuarios de acuerdo a las especificaciones de explotación para garantizar los accesos y la disponibilidad de los recursos del sistema.</li>
<li>(14) Gestionar los recursos de diferentes sistemas operativos (programando y verificando su cumplimiento).</li>
</ul>
<h2 id="index-objetivos-generales">Objetivos Generales<a class="headerlink" href="#index-objetivos-generales" title="Permanent link">&para;</a></h2>
<p>Los <ins>objetivos generales</ins> correspondientes son:</p>
<ul>
<li>(1) Analizar la estructura del software de base, comparando las características y prestaciones de sistemas libres y propietarios, para administrar sistemas operativos de servidor.</li>
<li>(15) Aplicar técnicas de monitorización interpretando los resultados y relacionándolos con las medidas correctoras para diagnosticar y corregir las disfunciones.</li>
<li>(16) Establecer la planificación de tareas, analizando actividades y cargas de trabajo del sistema para gestionar el mantenimiento.</li>
</ul>
<h2 id="index-resultados-de-aprendizaje">Resultados de aprendizaje<a class="headerlink" href="#index-resultados-de-aprendizaje" title="Permanent link">&para;</a></h2>
<p>Los <ins>Resultados de Aprendizaje</ins> del módulo de ASO son:</p>
<table>
<thead>
<tr>
<th>Código</th>
<th>Descripción</th>
<th>Peso (%)</th>
</tr>
</thead>
<tbody>
<tr>
<td>RA1</td>
<td>Administra el servicio de directorio interpretando especificaciones e integrándolo en una red.</td>
<td>20</td>
</tr>
<tr>
<td>RA2</td>
<td>Administra procesos del sistema describiéndolos y aplicando criterios de seguridad y eficiencia.</td>
<td>10</td>
</tr>
<tr>
<td>RA3</td>
<td>Gestiona la automatización de tareas del sistema, aplicando criterios de eficiencia y utilizando comandos y herramientas gráficas.</td>
<td>10</td>
</tr>
<tr>
<td>RA4</td>
<td>Administra de forma remota el sistema operativo en red valorando su importancia y aplicando criterios de seguridad.</td>
<td>10</td>
</tr>
<tr>
<td>RA5</td>
<td>Administra servidores de impresión describiendo sus funciones e integrándolos en una red.</td>
<td>10</td>
</tr>
<tr>
<td>RA6</td>
<td>Integra sistemas operativos libres y propietarios, justificando y garantizando su interoperabilidad.</td>
<td>20</td>
</tr>
<tr>
<td>RA7</td>
<td>Utiliza lenguajes de guiones en sistemas operativos, describiendo su aplicación y administrando servicios del sistema operativo.</td>
<td>20</td>
</tr>
</tbody>
</table>
<h2 id="index-unidades-de-trabajo">Unidades de Trabajo<a class="headerlink" href="#index-unidades-de-trabajo" title="Permanent link">&para;</a></h2>
<p>A partir de los <abbr title="Resultado de aprendizaje">RA</abbr>, hemos definido 7 unidades de trabajo (<abbr title="Unidad de trabajo">UT</abbr>).</p>
<p>El módulo de <em>Administración de Sistemas Operativos</em> viene fijado con una carga lectiva de <strong>133 h</strong>, repartidas en <strong>4 sesiones semanales</strong>, a lo largo de 32 semanas. Este curso se ha planificado sobre un total de 22 semanas, dejando las últimas 10 semanas para el desarrollo, por parte del alumnado, del programa formativo dual en la empresa. Estas 22 semanas hacen un total de 88 h lectivas.</p>
<p>A continuación, en la siguiente tabla y a modo de mapa general, se muestran las diferentes <abbr title="Unidad de trabajo">UT</abbr> y los <abbr title="Resultado de aprendizaje">RA</abbr> que cubren, indicando la carga horaria empleada durante el presente curso en cada una de ellas:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Unidades de Trabajo</th>
<th style="text-align: center;">RA1</th>
<th style="text-align: center;">RA2</th>
<th style="text-align: center;">RA3</th>
<th style="text-align: center;">RA4</th>
<th style="text-align: center;">RA5</th>
<th style="text-align: center;">RA6</th>
<th style="text-align: center;">RA7</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><a href="#.">1. ShellScripting</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td style="text-align: left;"><a href="#.">2. PowerShell</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
</tr>
<tr>
<td style="text-align: left;"><a href="#.">3. Servicios de acceso remoto</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#.">4. Servicios de directorio</a></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#.">5. Integración de Sistemas</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#.">6. Administración de Procesos del Sistema</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#.">7. Automatización y monitorización</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"><a href="#.">8. Administración de Servidores de Impresión</a></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">X</td>
<td style="text-align: center;"></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Total - 133 h</strong> <br> <strong>Porcentaje</strong></td>
<td style="text-align: center;">X<br>20%</td>
<td style="text-align: center;">X<br>10%</td>
<td style="text-align: center;">X<br>10%</td>
<td style="text-align: center;">X<br>10%</td>
<td style="text-align: center;">X<br>10%</td>
<td style="text-align: center;">X<br>20%</td>
<td style="text-align: center;">X<br>20%</td>
</tr>
</tbody>
</table>
<pre class="mermaid"><code>timeline
    title Planificación temporal
    section 1ª Evaluación
        Scripting : 1.- ShellScripting : 2.- PowerShell
        Acceso : 3.- Servicios de acceso remoto
        Directorio: 4.- Servicios de directorio
    section 2ª Evaluación
        Integración : 5.- Integración de Sistemas 
        Admin : 6.- Administración de Procesos : 7.- Automatización y monitorización : 8.- Administración de Servidores de Impresión</code></pre>
<h2 id="index-evaluacion">Evaluación<a class="headerlink" href="#index-evaluacion" title="Permanent link">&para;</a></h2>
<p>Para la evaluación del módulo de <em>Administración de Sistemas Operativos</em> se ponderarán los resultados de aprendizaje respecto a los porcentajes indicados en el apartado anterior.</p>
<p>Para la evaluación de cada <abbr title="Resultado de aprendizaje">RA</abbr>, emplearemos diferentes Instrumentos de Evaluación (<abbr title="Instrumento de evaluación">IE</abbr>), como pueden ser:</p>
<ul>
<li><strong>Actividades de enseñanza/aprendizaje</strong>, normalmente realizadas en el aula, acompañadas de una rúbrica. Distinguiremos las <strong>actividades de clase</strong> (<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> AC), las cuales se calificarán normalmente sobre una escala de 3 puntos, de las <strong>actividades de refuerzo</strong> (<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 3c3.88 0 7 3.14 7 7 0 2.8-1.63 5.19-4 6.31V21H9v-3H8c-1.11 0-2-.89-2-2v-3H4.5c-.42 0-.66-.5-.42-.81L6 9.66A7.003 7.003 0 0 1 13 3m-2.68 4.39h1.93c.01-.3.1-.53.28-.69a1 1 0 0 1 .66-.23c.31 0 .57.1.75.28.18.19.26.45.26.75 0 .32-.07.59-.23.82-.14.23-.35.43-.61.59-.51.34-.86.64-1.05.91-.2.26-.31.68-.31 1.18h2c0-.31.04-.56.13-.74.09-.19.26-.36.51-.52.45-.24.82-.53 1.11-.93s.44-.81.44-1.31c0-.76-.27-1.37-.81-1.82-.53-.45-1.26-.68-2.19-.68-.87 0-1.57.2-2.11.59-.52.41-.78.98-.77 1.77zM12 14h2v-2h-2zm1-13C8.41 1 4.61 4.42 4.06 8.9L2.5 11h-.03l-.02.03c-.55.76-.62 1.76-.19 2.59.36.69 1 1.17 1.74 1.32V16c0 1.85 1.28 3.42 3 3.87V23h11v-5.5c2.5-1.67 4-4.44 4-7.5 0-4.97-4.04-9-9-9"/></svg></span> AR), también sobre 3 puntos para consolidar uno o varios <abbr title="Criterio de evaluación">CE</abbr> no conseguidos, así como <strong>actividades de profundización</strong> (<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m15.1 1.81-2.83 2.83c-.77.78-.77 2.05 0 2.83l1.41 1.41-4.55 4.55-2.82-2.83L4.89 12c-4.95 5-1.39 8.5-1.39 8.5S7 24 12 19.09l1.41-1.41-2.8-2.8 4.54-4.54 1.39 1.39c.78.77 2.05.77 2.83 0L22.2 8.9zm2.83 8.47L16.55 8.9l-1.44-1.44-1.4-1.4 1.41-1.41 4.23 4.23z"/></svg></span> AP) que aportarán puntos extra al <abbr title="Resultado de aprendizaje">RA</abbr>.</li>
<li><strong>Prácticas</strong> (<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.563 1.396a.95.95 0 0 0-.534.184c-.404.307-.501.9-.425 1.654.075.755.335 1.704.751 2.8.357.937.835 1.984 1.407 3.095-1.17.146-2.24.338-3.158.57-1.08.274-1.958.6-2.583.973C.397 11.045 0 11.484 0 12s.397.955 1.021 1.328c.55.33 1.308.618 2.217.87a1 1 0 0 0-.006.097c0 .485.365.887.82.887.368 0 .678-.26.784-.616q.89.171 1.898.297a31 31 0 0 0-1.408 3.067c-.421 1.093-.686 2.04-.765 2.795-.08.754.016 1.347.42 1.656.201.154.46.208.734.181s.572-.125.896-.287c.649-.323 1.407-.894 2.244-1.67.962-.89 2.026-2.058 3.118-3.421 1.086 1.37 2.146 2.543 3.103 3.439.834.78 1.588 1.355 2.235 1.682.323.163.62.265.894.293s.534-.025.736-.178c.405-.307.502-.9.426-1.654-.054-.54-.206-1.18-.437-1.9a.91.91 0 0 0 .343-.72.92.92 0 0 0-.238-.625.8.8 0 0 0-.701-.251c-.312-.75-.69-1.557-1.125-2.4a27 27 0 0 0 3.187-.575c1.08-.273 1.958-.597 2.583-.97.624-.374 1.021-.813 1.021-1.329s-.397-.957-1.021-1.33c-.625-.373-1.503-.696-2.583-.969a27 27 0 0 0-3.156-.568 31 31 0 0 0 1.406-3.063c.422-1.093.687-2.04.766-2.795.08-.754-.017-1.347-.42-1.656a.95.95 0 0 0-.531-.185 1.3 1.3 0 0 0-.203.004c-.274.026-.57.127-.895.289-.51.254-1.092.665-1.722 1.205a.8.8 0 0 0-.418-.123c-.456 0-.82.4-.82.886q0 .178.06.334a35 35 0 0 0-2.465 2.791c-1.086-1.37-2.146-2.543-3.103-3.439-.834-.78-1.588-1.355-2.235-1.682-.323-.163-.62-.265-.894-.293a1.3 1.3 0 0 0-.204-.006zm.021.385a1 1 0 0 1 .143.004c.205.02.462.105.757.254.592.298 1.33.855 2.147 1.62.955.893 2.022 2.077 3.119 3.466-.428.544-.859 1.12-1.29 1.72a42 42 0 0 0-3.29.235 31 31 0 0 1-1.453-3.184c-.409-1.075-.658-2.002-.729-2.7-.07-.7.05-1.136.276-1.307a.55.55 0 0 1 .32-.108m12.854.033a.55.55 0 0 1 .32.108c.225.172.343.61.27 1.308s-.33 1.624-.743 2.698a31 31 0 0 1-1.455 3.15 42 42 0 0 0-3.312-.234 49 49 0 0 0-1.274-1.717 35 35 0 0 1 2.436-2.772.78.78 0 0 0 .543.223c.456 0 .82-.401.82-.887a.94.94 0 0 0-.133-.484c.61-.519 1.163-.909 1.625-1.139.297-.147.555-.23.76-.25a1 1 0 0 1 .142-.004zm-6.442 5.622c.344.443.69.913 1.035 1.394q-.51-.012-1.031-.014-.532.001-1.05.014c.35-.481.699-.95 1.046-1.394M12 9.203q.668.001 1.314.02.398.563.793 1.154c.366.55.71 1.093 1.041 1.633a54 54 0 0 1-1.046 1.623q-.395.584-.791 1.138-.646.02-1.311.022-.684-.001-1.348-.022a53 53 0 0 1-.789-1.148 52 52 0 0 1-1.04-1.633 53 53 0 0 1 1.84-2.765q.658-.02 1.337-.022m-1.824.04q-.315.444-.625.905c-.334.496-.647.988-.953 1.477a47 47 0 0 1-1.239-2.178 41 41 0 0 1 2.817-.205zm3.625 0a41 41 0 0 1 2.838.202 47 47 0 0 1-1.264 2.198 53 53 0 0 0-1.574-2.4m3.248.251c1.213.146 2.317.34 3.252.576 1.057.268 1.907.587 2.478.928s.834.689.834.998-.263.655-.834.996c-.57.342-1.421.662-2.478.93-.943.239-2.056.433-3.281.58a47 47 0 0 0-1.416-2.492 47 47 0 0 0 1.445-2.516M6.95 9.496c.424.805.899 1.64 1.418 2.494a47 47 0 0 0-1.443 2.508 30 30 0 0 1-2.059-.318.9.9 0 0 0-.23-.508.8.8 0 0 0-.584-.262.8.8 0 0 0-.696.418c-.894-.247-1.63-.53-2.136-.832C.65 12.655.387 12.31.387 12s.263-.654.834-.996c.57-.342 1.421-.662 2.478-.93.935-.237 2.039-.431 3.252-.578zm4.34.8c-.576 0-1.041.5-1.041 1.112 0 .484.29.897.695 1.049v.063c0 .612.466 1.109 1.041 1.109.576 0 1.041-.497 1.041-1.11q0-.025-.002-.05c.424-.141.73-.565.73-1.063 0-.294-.107-.575-.302-.783a1.01 1.01 0 0 0-.738-.326 1 1 0 0 0-.711.3 1 1 0 0 0-.713-.3zm-2.695 2.061a51 51 0 0 0 1.572 2.397c-.99-.04-1.941-.108-2.832-.205q.573-1.067 1.26-2.192m6.779.02c.448.743.862 1.472 1.236 2.176a42 42 0 0 1-2.814.199q.313-.443.625-.902c.333-.495.647-.986.953-1.473m-8.23 2.537c1.033.117 2.141.198 3.304.236.427.6.854 1.179 1.278 1.723-1.103 1.382-2.176 2.561-3.135 3.45-.821.76-1.562 1.31-2.155 1.605-.296.147-.554.23-.76.25s-.35-.018-.462-.104c-.225-.172-.343-.61-.27-1.308s.329-1.624.742-2.698c.366-.948.861-2.018 1.458-3.154m9.656.004c.459.884.854 1.727 1.178 2.504a.91.91 0 0 0-.348.724c0 .486.364.887.82.887a1 1 0 0 0 .123-.01c.218.686.36 1.293.408 1.782.07.698-.05 1.135-.275 1.306-.113.086-.258.124-.463.104s-.462-.105-.758-.254c-.59-.298-1.329-.855-2.146-1.62-.955-.893-2.023-2.077-3.12-3.466.43-.545.862-1.123 1.294-1.725a42 42 0 0 0 3.287-.232m-3.776.246a49 49 0 0 1-1.05 1.4 49 49 0 0 1-1.04-1.398 47 47 0 0 0 2.09-.002"/></svg></span> PR) o <strong>trabajo de investigación</strong> (<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 2v2h1v14a4 4 0 0 0 4 4 4 4 0 0 0 4-4V4h1V2zm4 14c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m2-4c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m1-5h-4V4h4z"/></svg></span> TI), con una carga temporal variable, entre una semana o toda una unidad didáctica. Normalmente calificados sobre 10 puntos.</li>
<li><strong>Proyectos</strong> (<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg></span> PY), bien de desarrollo individual o en parejas, sobre un determinado <abbr title="Resultado de aprendizaje">RA</abbr>. Normalmente calificados sobre 30 puntos.</li>
<li><strong>Pruebas objetivas</strong> (<span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c-.34.34-.67.67-.68 1-.03.32.31.65.63.96.48.5.95.95.93 1.44s-.53 1-1.04 1.5l-4.13 4.14L15 14.66l4.25-4.24-.96-.96-1.42 1.41-3.75-3.75 3.84-3.83c.39-.39 1.04-.39 1.41 0l2.34 2.34c.39.37.39 1.02 0 1.41M3 17.25l9.56-9.57 3.75 3.75L6.75 21H3z"/></svg></span> PO). En algunos <abbr title="Resultado de aprendizaje">RA</abbr>, y no de forma generalizada, se realizará una prueba objetiva (ya sea escrita o en ordenador). Normalmente calificados sobre 30 puntos.</li>
</ul>
<p>Para calcular la calificación de cada resultado de aprendizaje, se realizará la media ponderada simple de los diferentes instrumentos de evaluación empleados en dicho <abbr title="Resultado de aprendizaje">RA</abbr>, para comprobar que se han cubierto todos los criterios de evaluación.</p>
<!-- , puedes consultar la página de [validación](validacion.md) -->

<p>Todas las calificaciones, tanto de los instrumentos de evaluación como de los propios <abbr title="Resultado de aprendizaje">RA</abbr>, se podrán consultar en todo momento en la plataforma <em>Aules</em> del curso.</p>
<h2 id="index-materiales">Materiales<a class="headerlink" href="#index-materiales" title="Permanent link">&para;</a></h2>
<p>A lo largo del curso, iremos trabajando diferentes materiales disponibles en este espacio web.</p>
<p>Cada una de las <abbr title="Unidad de trabajo">UT</abbr> comenzará con un resumen de la <strong>Propuesta Didáctica</strong> que se plantea, los elementos que va a cubrir, tanto el <abbr title="Resultado de aprendizaje">RA</abbr> a trabajar como sus criterios de evaluación (<abbr title="Criterio de evaluación">CE</abbr>) asociados, así como un cuestionario inicial para reflexionar sobre nuestro conocimiento previo.</p>
<p>En la parte final de cada sesión, además de diferentes recursos de <strong>Referencia</strong> para ampliar conocimientos, se plantean una serie de <strong>Actividades</strong> que iremos trabajando en su mayor medida en el aula. Cada una de las actividades indica el <abbr title="Resultado de aprendizaje">RA</abbr> que cubre, los <abbr title="Criterio de evaluación">CE</abbr> que trabaja, así como su calificación, la cual luego se verá reflejada en la rúbrica de la entrega de dicha tarea en Aules. Además, las actividades están codificadas con el prefijo del tipo de instrumento de evaluación, así como la unidad que cubren (por ejemplo, la actividad AC207 será la 7ª actividad de clase de la unidad 2).</p>
<p>Respecto a los recursos tecnológicos, aunque inicialmente trabajaremos mucho con papel y lápiz (para programar scripts es más rápido crear diagramas en papel), luego pasaremos a utilizar el terminal de bash, bien en Lliurex o en una máquina virtual de Ubuntu, tanto mediante contenedores <a href="https://www.docker.com">Docker</a> como con soluciones <em>cloud</em> en <a href="https://aws.amazon.com">AWS</a>.</p></section><section class="print-page" id="01shellscript" heading-number="2"><h1 id="01shellscript-shellscripting">Shellscripting<a class="headerlink" href="#01shellscript-shellscripting" title="Permanent link">&para;</a></h1>
<p>El shell scripting es una técnica que permite crear scripts —archivos de texto con instrucciones— para automatizar tareas y procesos repetitivos mediante un intérprete de comandos, como Bash. Es especialmente útil en sistemas operativos basados en Unix y Linux, donde facilita la administración del sistema, la ejecución de rutinas y la integración de herramientas. </p>
<p>Estos scripts no se compilan, sino que se ejecutan línea por línea por el shell, permitiendo realizar desde la manipulación de archivos hasta la ejecución automática de programas complejos. </p>
<h2 id="01shellscript-propuesta-didactica">Propuesta didáctica<a class="headerlink" href="#01shellscript-propuesta-didactica" title="Permanent link">&para;</a></h2>
<p>En esta unidad vamos a comenzar a trabajar el <strong>RA7 de ASO</strong>:</p>
<blockquote>
<p><strong>RA7.</strong> <em>Utiliza lenguajes de guiones en sistemas operativos, describiendo su aplicación y administrando servicios del sistema operativo.</em></p>
</blockquote>
<h3 id="01shellscript-criterios-de-evaluacion-ra7">Criterios de evaluación (RA7)<a class="headerlink" href="#01shellscript-criterios-de-evaluacion-ra7" title="Permanent link">&para;</a></h3>
<p>A lo largo de la unidad se trabajarán y evidenciarán los siguientes criterios:</p>
<ul>
<li><strong>CE7a</strong>: Se han utilizado y combinado las estructuras del lenguaje para crear guiones.  </li>
<li><strong>CE7b</strong>: Se han utilizado herramientas para depurar errores sintácticos y de ejecución.  </li>
<li><strong>CE7c</strong>: Se han interpretado guiones de configuración del sistema operativo.  </li>
<li><strong>CE7d</strong>: Se han realizado cambios y adaptaciones de guiones del sistema.  </li>
<li><strong>CE7e</strong>: Se han creado y probado guiones de administración de servicios.  </li>
<li><strong>CE7f</strong>: Se han creado y probado guiones de automatización de tareas.  </li>
<li><strong>CE7g</strong>: Se han implantado guiones en <strong>sistemas libres</strong>.  </li>
<li><strong>CE7h</strong>: Se han consultado y utilizado librerías de funciones.  </li>
<li><strong>CE7i</strong>: Se han documentado los guiones creados.</li>
</ul>
<h2 id="01shellscript-contenidos">Contenidos<a class="headerlink" href="#01shellscript-contenidos" title="Permanent link">&para;</a></h2>
<p><strong>Bloque 1 — Fundamentos del Shell (Sesión 1–2)</strong>
- ¿Qué es un shell? CLI vs GUI.<br />
- Formato general de órdenes en GNU/Linux.<br />
- Comandos básicos de terminal.<br />
- Creación y ejecución de scripts: permisos y <code>$PATH</code>.<br />
- Comentarios y buenas prácticas.</p>
<p><strong>Bloque 2 — Elementos del lenguaje (Sesión 2–3)</strong>
- Variables y parámetros (<code>$0</code>, <code>$1</code>, <code>$#</code>, <code>$*</code>, <code>$?</code>).<br />
- Entrada/salida con <code>echo</code> y <code>read</code>.<br />
- Operadores: aritméticos, relacionales y lógicos.<br />
- Cálculo con <code>let</code> y expansión aritmética <code>$(( ))</code>.</p>
<p><strong>Bloque 3 — Control de flujo (Sesión 3–4)</strong>
- Estructuras condicionales: <code>if</code>, <code>elif</code>, <code>else</code>, <code>case</code>.<br />
- Bucles: <code>for</code>, <code>while</code>, <code>until</code>.<br />
- <code>break</code>, <code>continue</code>, <code>exit</code>.</p>
<p><strong>Bloque 4 — Estructuras y modularización (Sesión 4–5)</strong>
- Vectores (arrays) y recorrido.<br />
- Funciones, parámetros y retorno.<br />
- <code>source</code> y organización del código.</p>
<div class="admonition question">
<p class="admonition-title">Actividades iniciales</p>
<ol>
<li>Introduce el comando para mostrar tu ubicación actual en el sistema.</li>
<li>Introduce el comando para listar los archivos y directorios en tu ubicación actual.</li>
<li>Introduce el comando para crear un archivo vacío llamado <code>prueba.txt</code> en tu ubicación actual.</li>
<li>Introduce el comando para cambiar al directorio raíz del sistema.</li>
<li>Introduce el comando para crear un directorio llamado <code>nuevo_directorio</code> en tu ubicación actual.</li>
<li>Introduce el comando para eliminar el directorio <code>nuevo_directorio</code> que creaste anteriormente.</li>
<li>Introduce el comando para mostrar el contenido del archivo <code>/etc/passwd</code>.</li>
<li>Introduce el comando para contar las líneas de un archivo llamado <code>prueba.txt</code>.</li>
<li>Introduce el comando para buscar la palabra <code>"root"</code> en el archivo <code>/etc/passwd</code>.</li>
</ol>
</div>
<h3 id="01shellscript-programacion-de-aula-8h">Programación de Aula (8h)<a class="headerlink" href="#01shellscript-programacion-de-aula-8h" title="Permanent link">&para;</a></h3>
<p>Esta unidad se imparte en la primera evaluación, con una duración estimada de 8 sesiones lectivas, durante la última quincena de septiembre:</p>
<h4 id="01shellscript-sesiones-1-3-contenidos-fundamentales">Sesiones 1-3: Contenidos Fundamentales<a class="headerlink" href="#01shellscript-sesiones-1-3-contenidos-fundamentales" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Sesión</th>
<th>Contenidos</th>
<th>Actividades</th>
<th>Criterios trabajados</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Presentación de la UD y objetivos de sesión</td>
<td>Cuestionario inicial, AC101-AC103</td>
<td>CE7a, CE7b, CE7g y CE7i</td>
</tr>
<tr>
<td>2</td>
<td>Variables, entrada/salida y operadores</td>
<td>AC104, AC105, AC106</td>
<td>CE7a, CE7b, CE7f y CE7i</td>
</tr>
<tr>
<td>3</td>
<td>Control de flujo: condicionales y bucles</td>
<td>AC108, AC109, AC110</td>
<td>CE7a, CE7f, CE7i</td>
</tr>
</tbody>
</table>
<h4 id="01shellscript-sesiones-4-5-contenidos-avanzados">Sesiones 4-5: Contenidos Avanzados<a class="headerlink" href="#01shellscript-sesiones-4-5-contenidos-avanzados" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Sesión</th>
<th>Contenidos</th>
<th>Actividades</th>
<th>Criterios trabajados</th>
</tr>
</thead>
<tbody>
<tr>
<td>4</td>
<td>Vectores y funciones</td>
<td>AC111-AC114</td>
<td>CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h, CE7i</td>
</tr>
<tr>
<td>5</td>
<td>Reto grupal - Desarrollo</td>
<td>RETO GRUPAL (Sesión 1)</td>
<td>CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h, CE7i</td>
</tr>
</tbody>
</table>
<h4 id="01shellscript-sesiones-6-8-reto-grupal">Sesiones 6-8: Reto Grupal<a class="headerlink" href="#01shellscript-sesiones-6-8-reto-grupal" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Sesión</th>
<th>Contenidos</th>
<th>Actividades</th>
<th>Criterios trabajados</th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td>Reto grupal - Desarrollo</td>
<td>RETO GRUPAL (Sesión 2)</td>
<td>CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h, CE7i</td>
</tr>
<tr>
<td>7</td>
<td>Reto grupal - Finalización</td>
<td>RETO GRUPAL (Sesión 3)</td>
<td>CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h, CE7i</td>
</tr>
<tr>
<td>8</td>
<td>Presentación y evaluación</td>
<td>DEMO GRUPAL, Evaluación</td>
<td>CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h, CE7i</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="01shellscript-introduccion">Introducción<a class="headerlink" href="#01shellscript-introduccion" title="Permanent link">&para;</a></h2>
<p>Para administrar sistemas operativos es crucial manejar y dominar las interfaces (terminales) disponibles que nos permiten gestionarlos. Entre dichas interfaces destacan los siguientes tipos:</p>
<ul>
<li>De líneas  de texto (<strong>CLI</strong>, Command-Line Interface, interfaz de línea de comandos),</li>
<li>Gráficos/ventanas (<strong>GUI</strong>, Graphical User Interface, interfaz gráfica de usuario),</li>
<li>De lenguaje natural (<strong>NUI</strong>, Natural User Interface, interfaz natural de usuario, ejemplo SIRI en IOS).</li>
</ul>
<p>Este tema se centra en Sistemas basados en código libre del tipo UNIX, debido a su amplio despliegue en empresas para implementar servicios, más en concreto de distribuciones <strong>Linux/GNU</strong>.</p>
<p>El CLI de las distribuciones de <strong>Linux/GNU</strong> es conocido como Shell o terminal, con esta interfaz es posible crear cualquier comando que el usuario necesite, incluso para las tareas más específicas, <strong>debido a estar directamente conectado al Kernel a diferencia de las aplicaciones como se puede observar en la siguiente figura</strong>.</p>
<figure>
  <img src="imagenes/01/EstructuraLinux.png" width="475"/>
  <figcaption>Estructura de Linux</figcaption>
</figure>

<div class="admonition tip">
<p class="admonition-title"><strong>NOTA</strong></p>
<ul>
<li>Por lo tanto, es buena práctica que el administrador del sistemas tenga conocimientos en el manejo y gestión del terminal Shell, <strong>así como en la programación de scripts</strong>.</li>
</ul>
</div>
<h2 id="01shellscript-shell">Shell<a class="headerlink" href="#01shellscript-shell" title="Permanent link">&para;</a></h2>
<ul>
<li>En informática, el <strong>shell o intérprete de comandos</strong>, es el programa informático que permite a los usuarios interactuar con el sistema, procesando las órdenes que se le indican; además provee una interfaz de usuario para acceder a los servicios del sistema operativo.</li>
<li>Los comandos ejecutables desde el shell pueden clasificarse en <strong>internos</strong> (corresponden en realidad a órdenes interpretadas por el propio shell) y <strong>externos</strong> (corresponden a ficheros ejecutables externos al shell, conocidos como guiones o scripts).</li>
</ul>
<div class="admonition info">
<p class="admonition-title"><strong>IMPORTANTE:</strong></p>
<ul>
<li>Linux dispone de varios Shell diferentes <em>csh</em>, <em>bash</em>, <em>sh</em>, <em>ksh</em>, <em>zsh</em>, etc... A destacar:</li>
<li><strong>sh (Bourne Shell)</strong>: este shell fue usado desde las primeras versiones de Unix (Unix Versión 7). Recibe ese nombre por su desarrollador, <em>Stephen Bourne</em>, de los Laboratorios <em>Bell de AT&amp;T</em>.</li>
<li><strong>bash</strong>: fue desarrollado para ser un superconjunto de la funcionalidad del Bourne Shell, siendo el intérprete de comandos asignado por defecto a los usuarios en las distribuciones de Linux, por lo que es el shell empleado en la mayoría de las consolas de comandos de Linux. Se caracteriza por una gran funcionalidad adicional a la del Bourne Shell.</li>
<li>Para intentar homogeneizar esta diversidad de shells, el <strong>IEEE</strong> definió un estándar de «intérprete de comandos» bajo la especificación <strong>POSIX 1003.2</strong> (también recogida como <strong>ISO 9945.2</strong>). La creación de dicho estándar se basó en la sintaxis que presentaban múltiples shells de la familia Bourne shell.</li>
<li><strong>bash</strong> respeta completamente el estándar POSIX, sobre el que añade un número considerable de extensiones (estructura select, arrays, mayor número de operadores,…). En este tema utilizaremos el Shell de <strong>bash</strong>.</li>
</ul>
</div>
<h3 id="01shellscript-formato-comandos">Formato comandos<a class="headerlink" href="#01shellscript-formato-comandos" title="Permanent link">&para;</a></h3>
<p>En general, el formato de las órdenes de GNU/Linux es el siguiente:</p>
<ul>
<li><strong>Comando</strong>, que indica la acción que se va a ejecutar.</li>
<li><strong>Modificadores</strong>, que cambian el comportamiento estándar del comando para adaptarlo a las necesidades.</li>
<li><strong>Argumentos</strong>, elementos necesarios para realizar la acción del comando.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li>Un dato a tener en cuenta cuando se trabaja con un terminal, es que GNU/Linux distingue entre mayúsculas y minúsculas, es decir, la ejecución de comandos en el CLI de Linux es <strong>CASE SENSITIVE</strong>.</li>
</ul>
</div>
<h3 id="01shellscript-principales-comandos">Principales comandos<a class="headerlink" href="#01shellscript-principales-comandos" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Comando</th>
<th>Acción</th>
<th>Comando</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ls</code></td>
<td>muestra el contenido de una carpeta</td>
<td><code>uname</code></td>
<td>muestra información del sistema</td>
</tr>
<tr>
<td><code>df</code></td>
<td>muestra estado del disco</td>
<td><code>cd</code></td>
<td>cambiar de directorio</td>
</tr>
<tr>
<td><code>fsck</code></td>
<td>comprueba integridad de discos</td>
<td><code>mkdir</code></td>
<td>crear directorios</td>
</tr>
<tr>
<td><code>mount</code></td>
<td>monta particiones y volúmenes</td>
<td><code>shutdown</code></td>
<td>apaga el equipo (<em>restart</em> o <em>reboot</em>)</td>
</tr>
<tr>
<td><code>unmount</code></td>
<td>desmonta particiones y volúmenes</td>
<td><code>clear</code></td>
<td>limpia la pantalla</td>
</tr>
<tr>
<td><code>fdisk</code></td>
<td>administra particiones</td>
<td><code>date/cal</code></td>
<td>muestra hora/calendario del sistema</td>
</tr>
<tr>
<td><code>echo</code></td>
<td>imprime por pantalla</td>
<td><code>who</code></td>
<td>muestra quien está conectado</td>
</tr>
</tbody>
</table>
<h2 id="01shellscript-shell-script-en-gnulinux">Shell Script en GNU/Linux<a class="headerlink" href="#01shellscript-shell-script-en-gnulinux" title="Permanent link">&para;</a></h2>
<ul>
<li>Un Shell script (guion) es un archivo de texto que contiene una serie de comandos que, ordenados de forma específica, realizan la tarea para la que fueron diseñados, es decir, es un programa escrito de comandos Shell para ser ejecutados de forma secuencial.</li>
<li>De esta forma se pueden automatizar tareas repetitivas ahorrando tiempo al administrador.</li>
<li>Un programa escrito en shell se denomina shellscript, programa shell o simplemente un shell.</li>
</ul>
<h3 id="01shellscript-estructura-general">Estructura general<a class="headerlink" href="#01shellscript-estructura-general" title="Permanent link">&para;</a></h3>
<ul>
<li>En su forma más básica, un shell-script puede ser un simple fichero de texto que contenga uno o varios comandos.</li>
<li>Para ayudar a la identificación del contenido a partir del nombre del archivo, es habitual que los shell scripts tengan la extensión «.sh»,</li>
<li>Se seguirá este criterio pero hay que tener en cuenta que es informativo y opcional.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="c1">#*********************************</span>
<span class="linenos" data-linenos="3 "></span><span class="c1">#Este es mi primer script</span>
<span class="linenos" data-linenos="4 "></span><span class="c1">#*********************************</span>
<span class="linenos" data-linenos="5 "></span><span class="nb">echo</span><span class="w"> </span>Hola<span class="w"> </span>Mundo
<span class="linenos" data-linenos="6 "></span><span class="c1">#Esto es un comentario, soy muy útil.</span>
</code></pre></div>
<h3 id="01shellscript-creacion-shell-scripts">Creación Shell scripts<a class="headerlink" href="#01shellscript-creacion-shell-scripts" title="Permanent link">&para;</a></h3>
<ul>
<li>Para crear un script utilizaremos cualquiera de los editores de texto plano como <em>vi</em>, <em>vim</em> , <em>nano</em>.</li>
<li>Después de crear el archivo hay que dotarlo de permisos de lectura y ejecución. </li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>chmod<span class="w"> </span><span class="nv">ugo</span><span class="o">=</span>rx<span class="w"> </span>script.sh
</code></pre></div>
<ul>
<li>
<p>Para ejecutar el archivo: (ubicados en la carpeta que contiene el archivo), se pueden utilizar el siguiente archivo:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>./script.sh
</code></pre></div>
</li>
<li>
<p>Además se puede utilizar otro método que consiste en definir la carpeta dentro de la variable de entorno <strong>PATH</strong> (editando el fichero <strong>.bashrc</strong>.) Una vez realizado ya se podría ejecutar directamente el fichero con el nombre del script.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>mkdir<span class="w"> </span>/home/administrador/scripts
<span class="linenos" data-linenos="2 "></span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/home/administrador/scripts
<span class="linenos" data-linenos="3 "></span><span class="nb">export</span><span class="w"> </span>PATH
</code></pre></div>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title"><strong>NOTA</strong></p>
<ul>
<li>La primera forma ejecutará el contenido del shell script en un subshell o hilo del terminal original. El programa se ejecuta hasta que se terminan las órdenes del archivo, se recibe una señal de finalización, se encuentra un error sintáctico o se llega a una orden <strong>exit</strong>. Cuando el programa termina, el subshell muere y el terminal original toma el control del sistema. </li>
<li>Esto no ocurre si se usa la opción de <strong>PATH</strong>, la cual ejecuta el contenido del shell script en el mismo terminal donde fue invocado.</li>
</ul>
</div>
<h3 id="01shellscript-el-primer-shellscript">El primer Shellscript<a class="headerlink" href="#01shellscript-el-primer-shellscript" title="Permanent link">&para;</a></h3>
<ul>
<li>Crea un ejemplo llamado <em>listar.sh</em>, se aconseja ejecutar los siguientes comandos de forma secuencial.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nb">cd</span><span class="w"> </span>~
<span class="linenos" data-linenos="2 "></span>mkdir<span class="w"> </span>scripts
<span class="linenos" data-linenos="3 "></span><span class="nb">cd</span><span class="w"> </span>scripts
<span class="linenos" data-linenos="4 "></span>touch<span class="w"> </span>listar.sh
<span class="linenos" data-linenos="5 "></span>nano<span class="w"> </span>listar.sh
</code></pre></div>
<ul>
<li>Genera, guarda y prueba el siguiente código.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#! /bin/bash</span>
<span class="linenos" data-linenos="2 "></span>clear
<span class="linenos" data-linenos="3 "></span>ls<span class="w"> </span>-la
<span class="linenos" data-linenos="4 "></span><span class="nb">echo</span><span class="w"> </span>“Listado<span class="w"> </span>realizado<span class="w"> </span>el<span class="w"> </span>“<span class="k">$(</span>date<span class="k">)</span>
</code></pre></div>
<h3 id="01shellscript-comentarios">Comentarios<a class="headerlink" href="#01shellscript-comentarios" title="Permanent link">&para;</a></h3>
<ul>
<li>Para realizar un comentario se usa el carácter <strong>#</strong></li>
<li>Cuando el terminal encuentra una línea que comienza con este carácter, ignora todo lo que existe desde él hasta el final de línea.</li>
<li>A esta regla existe una excepción:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="w">    </span><span class="c1">#!/bin/bash</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>Es el "Shebang" Indica el terminal que será utilizado por el shell script, no un comentario.</li>
<li>Esta línea debe ser la primera del fichero que, aún siendo opcional, indica el tipo de lenguaje en el que ha sido escrito el programa.</li>
<li>Si la versión de GNU/Linux dispone de el terminal especificado en esta línea, ejecutará el código con él, si no es así, utilizará el que por defecto tenga asignado el usuario que lo ejecuta.</li>
</ul>
</div>
<h2 id="01shellscript-depuracion">Depuración<a class="headerlink" href="#01shellscript-depuracion" title="Permanent link">&para;</a></h2>
<p>Esta tarea no es sencilla en ShellScripting, aun así se recomienda los siguientes métodos de depuración, apoyados en los siguientes argumentos a la hora de ejecutar el script:</p>
<ul>
<li><code>-x</code> &#8594; Expande cada orden simple, e imprime por pantalla la orden con sus argumentos, y a continuación su salida.</li>
<li><code>-v</code> &#8594; Imprime en pantalla cada elemento completo del script (estructura de control, …) y a continuación su salida.</li>
</ul>
<p>Además en el propio Script se pueden utilizar los siguientes comandos:</p>
<table>
<thead>
<tr>
<th>Comando</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>set -x</code> <code>set –xv</code></td>
<td>Activa las trazas/verbose. Se debe ubicar justo antes del trozo del script que se desea depurar.</td>
</tr>
<tr>
<td><code>set +x</code> <code>set +xv</code></td>
<td>Desactiva las trazas/verbose. Ubicarlo justo después del trozo del script que se desea depurar.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="01shellscript-sintaxis">Sintaxis<a class="headerlink" href="#01shellscript-sintaxis" title="Permanent link">&para;</a></h2>
<h3 id="01shellscript-argumentos-o-parametros">Argumentos o Parámetros<a class="headerlink" href="#01shellscript-argumentos-o-parametros" title="Permanent link">&para;</a></h3>
<ul>
<li>Son especificaciones que se le hacen al programa al momento de llamarlo.</li>
<li>Introducen un valor, cadena o variable dentro del script.</li>
<li>Utilización de parámetros:</li>
</ul>
<table>
<thead>
<tr>
<th>Símbolo</th>
<th>Función</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$1</code></td>
<td>representa el 1º parámetro pasado al script</td>
</tr>
<tr>
<td><code>$2</code></td>
<td>representa el 2º parámetro</td>
</tr>
<tr>
<td><code>$3</code></td>
<td>representa el 3º parámetro (podemos usar hasta $9)</td>
</tr>
<tr>
<td><code>$*</code></td>
<td>representa todos los parámetros separados por espacio</td>
</tr>
<tr>
<td><code>$#</code></td>
<td>representa el número de parámetros que se han pasado</td>
</tr>
<tr>
<td><code>$0</code></td>
<td>representa el parámetro 0, es decir, el nombre del script o el nombre de la función</td>
</tr>
</tbody>
</table>
<ul>
<li>Ejemplo:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">echo</span><span class="w"> </span>‘El<span class="w"> </span>primer<span class="w"> </span>parámetro<span class="w"> </span>que<span class="w"> </span>se<span class="w"> </span>ha<span class="w"> </span>pasado<span class="w"> </span>es<span class="w"> </span>‘<span class="w"> </span><span class="nv">$1</span>
<span class="linenos" data-linenos="3 "></span><span class="nb">echo</span><span class="w"> </span>‘El<span class="w"> </span>tercer<span class="w"> </span>parámetro<span class="w"> </span>que<span class="w"> </span>se<span class="w"> </span>ha<span class="w"> </span>pasado<span class="w"> </span>es<span class="w"> </span>‘<span class="w"> </span><span class="nv">$3</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">echo</span><span class="w"> </span>‘El<span class="w"> </span>conjunto<span class="w"> </span>de<span class="w"> </span>todos<span class="w"> </span>los<span class="w"> </span>parámetros<span class="w"> </span>:<span class="w"> </span>‘<span class="w"> </span><span class="nv">$*</span>
<span class="linenos" data-linenos="5 "></span><span class="nb">echo</span><span class="w"> </span>‘Me<span class="w"> </span>has<span class="w"> </span>pasado<span class="w"> </span>un<span class="w"> </span>total<span class="w"> </span>de<span class="w"> </span>‘<span class="w"> </span><span class="nv">$#</span><span class="w"> </span>‘<span class="w"> </span>parámetros’”
<span class="linenos" data-linenos="6 "></span><span class="nb">echo</span><span class="w"> </span>‘El<span class="w"> </span>parámetro<span class="w"> </span><span class="m">0</span><span class="w"> </span>es<span class="w"> </span>:<span class="w"> </span>‘<span class="w"> </span><span class="nv">$0</span>
<span class="linenos" data-linenos="7 "></span><span class="c1">#Fin del script</span>
</code></pre></div>
<ul>
<li>Si por ejemplo se enviasen los siguientes parámetros:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>./script.sh<span class="w">  </span>Caballo<span class="w">  </span>Perro<span class="w">  </span><span class="m">675</span><span class="w"> </span>Nueva
</code></pre></div>
<ul>
<li>Se obtendría la siguiente salida:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>El<span class="w"> </span>primer<span class="w"> </span>parámetro<span class="w"> </span>que<span class="w"> </span>se<span class="w"> </span>ha<span class="w"> </span>pasado<span class="w"> </span>es<span class="w"> </span>Caballo
<span class="linenos" data-linenos="2 "></span>El<span class="w"> </span>tercer<span class="w"> </span>parámetro<span class="w"> </span>que<span class="w"> </span>se<span class="w"> </span>ha<span class="w"> </span>pasado<span class="w"> </span>es<span class="w"> </span><span class="m">675</span>
<span class="linenos" data-linenos="3 "></span>El<span class="w"> </span>conjunto<span class="w"> </span>de<span class="w"> </span>todos<span class="w"> </span>los<span class="w"> </span>parámetros<span class="w"> </span>:<span class="w"> </span>Caballo<span class="w"> </span>Perro<span class="w"> </span><span class="m">675</span><span class="w"> </span>Nueva
<span class="linenos" data-linenos="4 "></span>Me<span class="w"> </span>has<span class="w"> </span>pasado<span class="w"> </span>un<span class="w"> </span>total<span class="w"> </span>de<span class="w"> </span><span class="m">4</span><span class="w"> </span>parámetros
<span class="linenos" data-linenos="5 "></span>El<span class="w"> </span>parámetro<span class="w"> </span><span class="m">0</span><span class="w"> </span>es<span class="w"> </span>:<span class="w"> </span>./script.sh
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>Argumento especial <code>$?</code></li>
<li>Contiene el valor que devuelve la ejecución de un comando. </li>
<li>Puede tener dos valores: <strong>cero</strong> si se ha <strong>ejecutado bien</strong> y se interpreta como verdadero, o <strong>distinto de cero</strong> si se ha <strong>ejecutado mal</strong> y se interpreta como falso.<ul>
<li><code>0</code>  -&gt; Si el último comando se ejecutó con éxito</li>
<li><code>!0</code> -&gt; Si el último comando no de ejecutó con éxito</li>
</ul>
</li>
</ul>
</div>
<h3 id="01shellscript-variables">Variables<a class="headerlink" href="#01shellscript-variables" title="Permanent link">&para;</a></h3>
<ul>
<li>Es un parámetro que cambia su valor durante la ejecución del programa.</li>
<li>Se da un nombre para identificarla y recuperarla, antecedido por el carácter <code>$</code>.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>En shellscript <strong>no se declaran y no importa el tipo</strong>.</li>
<li>El nombre de la variable puede estar compuesto por <strong>letras y números</strong> y por el carácter subrayado “<code>_</code>”.</li>
</ul>
</div>
<ul>
<li>Ejemplo:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#! /bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="c1">#*********************************</span>
<span class="linenos" data-linenos="3 "></span><span class="c1">#Este es mi segundo script</span>
<span class="linenos" data-linenos="4 "></span><span class="c1">#*********************************</span>
<span class="linenos" data-linenos="5 "></span><span class="nv">MIVARIABLE</span><span class="o">=</span>‘Administración<span class="w"> </span>de<span class="w"> </span>Sistemas<span class="w"> </span>Operativos<span class="w"> </span>ASO’
<span class="linenos" data-linenos="6 "></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$MIVARIABLE</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li>Deben empezar por <strong>letra</strong> o “<code>_</code>”</li>
<li>En ningún caso pueden empezar por un número, ya que esa nomenclatura está reservada a los parámetros.</li>
<li>El contenido de estas variables será siempre tomado como si fuesen cadenas alfanuméricas, es decir, serán tratadas como cadenas de texto. Por lo tanto se necesitan operandos o comandos específicos para realizar operaciones con valores numéricos de las variables. Explicado en el apartado de <strong>Operadores Aritméticos</strong>.</li>
</ul>
</div>
<h3 id="01shellscript-variables-de-entorno">Variables de entorno<a class="headerlink" href="#01shellscript-variables-de-entorno" title="Permanent link">&para;</a></h3>
<ul>
<li>Cada terminal durante su ejecución tiene acceso a dos ámbitos de memoria:<ol>
<li><strong>Datos Locales</strong> Una variable declarada en un terminal solo será accesible desde el terminal en el que declara.</li>
<li><strong>Datos Global</strong> Engloban a todos los terminales que se estén ejecutando. Son las denominadas <strong>Variables de Entorno</strong>.</li>
</ol>
</li>
</ul>
<p>Ejemplo de principales variables de entorno:</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Función</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$BASH</code></td>
<td>Ruta del programa Bash</td>
</tr>
<tr>
<td><code>$HOME</code></td>
<td>Ruta completa del home del usuario</td>
</tr>
<tr>
<td><code>$PATH</code></td>
<td>Lista los directorios de donde se buscan los programas</td>
</tr>
<tr>
<td><code>$RANDOM</code></td>
<td>Devuelve un valor numérico aleatorio</td>
</tr>
</tbody>
</table>
<h3 id="01shellscript-entrada-y-salida-del-shell-script">Entrada y salida del Shell Script<a class="headerlink" href="#01shellscript-entrada-y-salida-del-shell-script" title="Permanent link">&para;</a></h3>
<ul>
<li>Para poder interactuar con un programa de terminal es necesario disponer de un mecanismo de entrada de datos.</li>
<li>Para dinamizar el resultado de los shell scripts y un dispositivo de salida que mantenga informado al usuario en todo momento de los que está ocurriendo.</li>
<li>Para la entrada de datos se utiliza el comando <strong>read</strong> y para la salida el comando <strong>echo</strong>.</li>
</ul>
<h4 id="01shellscript-echo">echo<a class="headerlink" href="#01shellscript-echo" title="Permanent link">&para;</a></h4>
<ul>
<li>Su tarea es la de mostrar información con mensajes de texto lanzados por pantalla</li>
</ul>
<table>
<thead>
<tr>
<th>Modificador</th>
<th>Función</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-e</code></td>
<td>para usar las opciones hay que utilizar este modificador</td>
</tr>
<tr>
<td><code>\c</code></td>
<td>Sirve para eliminar el salto de línea natural del comando <strong>echo</strong>.</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>nueva línea.</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>tabulador horizontal.</td>
</tr>
<tr>
<td><code>\v</code></td>
<td>tabulador vertical.</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>Si se antepone el símbolo del dólar delante de una variable, mostrará su contenido.</li>
<li>Si es necesario mostrar frases con espacios, debe situarse entre comillas.</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li>La orden echo permite expandir variables siempre que se usen las comillas dobles.</li>
</ul>
</div>
<ul>
<li>Ejemplo:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">NOMBRE</span><span class="o">=</span>Javi
<span class="linenos" data-linenos="3 "></span><span class="nb">echo</span><span class="w"> </span>“hola<span class="w"> </span><span class="nv">$NOMBRE</span>”
</code></pre></div></li>
<li>El texto mostrado por pantalla será: <strong>hola javi</strong></li>
</ul>
<h4 id="01shellscript-read">read<a class="headerlink" href="#01shellscript-read" title="Permanent link">&para;</a></h4>
<ul>
<li>Esta herramienta asigna el texto que el usuario ha escrito en el terminal a una o más variables.</li>
<li>Lo que hace <strong>read</strong> es detener la ejecución del shell script y pasa el testigo al usuario.</li>
<li>
<p>Hasta que éste no introduzca los datos, la ejecución del programa no avanzará.</p>
</li>
<li>
<p>Ejemplo:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">echo</span><span class="w"> </span>“Introduce<span class="w"> </span>tu<span class="w"> </span>nombre:<span class="w"> </span>”
<span class="linenos" data-linenos="3 "></span><span class="nb">read</span><span class="w"> </span>NOMBRE
<span class="linenos" data-linenos="4 "></span><span class="nb">echo</span><span class="w"> </span>“Hola<span class="w"> </span><span class="nv">$NOMBRE</span>”
</code></pre></div></p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Cuando se utiliza read con varios nombres de variables, el primer campo tecleado por el usuario se asigna a la primera variable, el segundo campo a la segunda y así sucesivamente</p>
</div>
<ul>
<li>Ejemplo:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span>“Introduce<span class="w"> </span>tres<span class="w"> </span>números<span class="w"> </span><span class="o">(</span>separados<span class="w"> </span>por<span class="w"> </span>un<span class="w"> </span>espacio<span class="o">)</span>:<span class="w"> </span>”<span class="w"> </span>num1<span class="w"> </span>num2<span class="w"> </span>num3
<span class="linenos" data-linenos="3 "></span><span class="nb">echo</span><span class="w"> </span>“Los<span class="w"> </span>número<span class="w"> </span>introducidos<span class="w"> </span>son<span class="w"> </span><span class="nv">$num1</span>,<span class="w"> </span><span class="nv">$num2</span><span class="w"> </span>y<span class="w"> </span><span class="nv">$num3</span>”
</code></pre></div></li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>En este ejemplo se ha usado el modificador <strong>-p</strong> el cual permite imprimir un mensaje antes de la recogida de los datos, prescindiendo de primer comando <strong>echo</strong> del ejemplo anterior.</p>
</div>
<h3 id="01shellscript-operadores-en-shell-script">Operadores en shell script<a class="headerlink" href="#01shellscript-operadores-en-shell-script" title="Permanent link">&para;</a></h3>
<ul>
<li>Todas las variables creadas en un terminal se tratan como cadenas de texto, incluso si su contenido es solo numérico.</li>
<li>Este es el motivo por el cual si lanzamos el siguiente código, no se obtendrá el resultado esperado:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">var1</span><span class="o">=</span><span class="m">15</span>
<span class="linenos" data-linenos="3 "></span><span class="nv">var2</span><span class="o">=</span><span class="m">5</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">echo</span><span class="w"> </span>“<span class="nv">$var1</span>+<span class="nv">$var2</span>”
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li>La salida de este programa no será un número <strong>20</strong>, sino la cadena de caracteres <strong>15+5</strong>. </li>
<li>Esto es así porque la suma de cadenas de texto, son esas cadenas de texto unidas de forma consecutiva.</li>
</ul>
</div>
<ul>
<li>Existen tres tipos de operadores según el trabajo que realicen: <strong>aritméticos, relacionales</strong> y <strong>lógicos</strong></li>
</ul>
<h4 id="01shellscript-aritmeticos">Aritméticos<a class="headerlink" href="#01shellscript-aritmeticos" title="Permanent link">&para;</a></h4>
<ul>
<li>Los operadores aritméticos realizan operaciones matemáticas, como sumas o restas con operandos.</li>
<li>"Manipulan" datos numéricos, tanto enteros como reales.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;">Símbolo</th>
<th>Función</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>+</code></td>
<td>suma</td>
</tr>
<tr>
<td style="text-align: center;"><code>-</code></td>
<td>resta</td>
</tr>
<tr>
<td style="text-align: center;"><code>*</code></td>
<td>multiplicación</td>
</tr>
<tr>
<td style="text-align: center;"><code>/</code></td>
<td>división</td>
</tr>
<tr>
<td style="text-align: center;"><code>%</code></td>
<td>modulo (resto)</td>
</tr>
<tr>
<td style="text-align: center;"><code>=</code></td>
<td>asignación</td>
</tr>
</tbody>
</table>
<ul>
<li>Ejemplo:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1">#*********************************</span>
<span class="linenos" data-linenos=" 3 "></span><span class="c1">#Esto es mi tercer script</span>
<span class="linenos" data-linenos=" 4 "></span><span class="c1">#*********************************</span>
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span><span class="nv">NUMERO</span><span class="o">=</span><span class="m">4</span>
<span class="linenos" data-linenos=" 7 "></span><span class="nb">let</span><span class="w"> </span><span class="nv">SUMA</span><span class="o">=</span>NUMERO+3
<span class="linenos" data-linenos=" 8 "></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$SUMA</span>
<span class="linenos" data-linenos=" 9 "></span><span class="nv">NUMERO</span><span class="o">=</span><span class="m">5</span>
<span class="linenos" data-linenos="10 "></span><span class="nb">let</span><span class="w"> </span><span class="nv">SUMA</span><span class="o">=</span>NUMERO+5
<span class="linenos" data-linenos="11 "></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$SUMA</span>
<span class="linenos" data-linenos="12 "></span><span class="nv">NUMERO</span><span class="o">=</span><span class="m">10</span>
<span class="linenos" data-linenos="13 "></span><span class="nb">let</span><span class="w"> </span><span class="nv">SUMA</span><span class="o">=</span>NUMERO-10
</code></pre></div>
<h4 id="01shellscript-relacionales">Relacionales<a class="headerlink" href="#01shellscript-relacionales" title="Permanent link">&para;</a></h4>
<ul>
<li>Este tipo de operadores tan sólo devuelven dos posibles valores; <strong>verdadero o falso</strong>.</li>
<li>
<p>Existen subtipos según se comparen cadenas o números.</p>
<p><strong>1.</strong> <strong>Operadores relacionales para números</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Operador</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>-eq</code></td>
<td>Comprueba si dos números son iguales.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-ne</code></td>
<td>Detecta si dos números son diferentes.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-gt</code></td>
<td>Revisa si la izquierda es mayor que derecha.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-lt</code></td>
<td>Verifica si la izquierda es menor que derecha.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-ge</code></td>
<td>Coteja si la izquierda es mayor o igual que derecha.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-le</code></td>
<td>Constata si la izquierda es menor o igual que derecha.</td>
</tr>
</tbody>
</table>
<p><strong>2.</strong> <strong>Operadores relacionales para cadenas de texto o de cuerda</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Operador</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>-z</code></td>
<td>Comprueba si la longitud de la cadena es cero.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-n</code></td>
<td>Evalúa si la longitud de la cadena no es cero.</td>
</tr>
<tr>
<td style="text-align: center;"><code>=</code></td>
<td>Verifica si las cadenas son iguales.</td>
</tr>
<tr>
<td style="text-align: center;"><code>!=</code></td>
<td>Coteja si las cadenas son diferentes.</td>
</tr>
<tr>
<td style="text-align: center;"><code>cadena</code></td>
<td>Revisa si la cadena es nula.</td>
</tr>
</tbody>
</table>
<p><strong>3.</strong> <strong>Operadores relacionales para archivos y directorios</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Operador</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>-a</code></td>
<td>Comprueba si existe el archivo.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-r</code></td>
<td>Evalúa si el archivo esta vacío.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-w</code></td>
<td>Confirma si existe el archivo y tiene permisos de escritura.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-x</code></td>
<td>Constata si existe el archivo y tiene permisos de ejecución.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-f</code></td>
<td>Escruta si existe y es un archivo de tipo regular.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-d</code></td>
<td>Escruta si existe y es un archivo de tipo directorio.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-h</code></td>
<td>Coteja si existe y es un enlace.</td>
</tr>
<tr>
<td style="text-align: center;"><code>-s</code></td>
<td>Revisa si existe el archivo y su tamaño es mayor a cero.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h4 id="01shellscript-logicos">Lógicos<a class="headerlink" href="#01shellscript-logicos" title="Permanent link">&para;</a></h4>
<ul>
<li>Se utilizan para evaluar condiciones, no elementos.</li>
<li>Comprueba el resultado de dos operandos y devuelve verdadero o falso en función del valor que arrojen los operandos.</li>
<li>Los tipos son:</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;">Operador</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>&amp;&amp;</code></td>
<td><code>AND</code>, devuelve verdadero si todas condiciones que evalúa son verdaderas. Se puede representar: <code>-a</code> o <code>&amp;&amp;</code>.</td>
</tr>
<tr>
<td style="text-align: center;"><code>||</code></td>
<td><code>OR</code>, da como resultado verdadero si alguna de las condiciones que evalúa es verdadera. Se representar: <code>-o</code> o <code>||</code>.</td>
</tr>
<tr>
<td style="text-align: center;"><code>!</code></td>
<td><code>negación</code>, invierte el significado del operando. de verdadero a falso, y viceversa. Con <code>!</code> o <code>not</code>.</td>
</tr>
</tbody>
</table>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Para realizar cálculos aritméticos es necesario utilizar expresiones como <strong>expr</strong>, <strong>let</strong> o los <strong>expansores</strong>.</p>
</div>
<h4 id="01shellscript-expr">expr<a class="headerlink" href="#01shellscript-expr" title="Permanent link">&para;</a></h4>
<ul>
<li>Este comando toma los argumentos dados como expresiones numéricas, los evalúa e imprime el resultado.</li>
<li>Cada término de la expresión debe ir separado por espacios en blanco.</li>
<li>Soporta diferentes operaciones: sumar, restar, multiplicar y dividir enteros utilizando los <strong>operadores aritméticos</strong> para el cálculo del módulo.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li><strong>MEJOR NO UTILIZAR</strong> </li>
<li>Desafortunadamente, <strong>expr</strong> es difícil de utilizar debido a las colisiones entre su sintaxis y la propia terminal.</li>
<li>Puesto que <code>*</code> es el símbolo comodín, deberá ir precedido por una barra invertida para que el terminal lo interprete literalmente como un asterisco.</li>
<li>Además, es muy incómodo de trabajar ya que los espacios entre los elementos de una expresión son críticos.</li>
</ul>
</div>
<ul>
<li>Ejemplo:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">var</span><span class="o">=</span><span class="m">5</span>
<span class="linenos" data-linenos="3 "></span><span class="nv">resultado</span><span class="o">=</span><span class="sb">`</span>expr<span class="w"> </span><span class="nv">$1</span><span class="w"> </span>+<span class="w"> </span><span class="nv">$var</span><span class="w"> </span>+<span class="w"> </span><span class="m">1</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$resultado</span><span class="sb">`</span>
</code></pre></div></li>
</ul>
<h4 id="01shellscript-let">let<a class="headerlink" href="#01shellscript-let" title="Permanent link">&para;</a></h4>
<ul>
<li>Facilita la sintaxis de estas operaciones aritméticas reduciéndolas a la mínima expresión.</li>
<li>No es necesario incluir el símbolo del dólar que precede a las variables.</li>
<li>
<p>Se configura como un comando más cómodo de ejecutar.</p>
</li>
<li>
<p>Ejemplo:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">var</span><span class="o">=</span><span class="m">5</span>
<span class="linenos" data-linenos="3 "></span><span class="nb">let</span><span class="w"> </span><span class="nv">resultado</span><span class="o">=</span><span class="nv">$1</span>+var+1
<span class="linenos" data-linenos="4 "></span><span class="nb">echo</span><span class="w"> </span><span class="nv">$resultado</span>
</code></pre></div></p>
</li>
</ul>
<h4 id="01shellscript-expansores">expansores<a class="headerlink" href="#01shellscript-expansores" title="Permanent link">&para;</a></h4>
<ul>
<li>Para las operaciones aritméticas se utilizan los dobles paréntesis.</li>
<li>
<p>Realizan la operación contenida dentro de ellos lanzando la ejecución fuera de ellos una vez resuelta.</p>
</li>
<li>
<p>Ejemplo:
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">var</span><span class="o">=</span><span class="m">5</span>
<span class="linenos" data-linenos="3 "></span><span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">$1</span><span class="o">+</span><span class="nv">$var</span><span class="o">+</span><span class="m">1</span><span class="k">))</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">echo</span><span class="w"> </span><span class="k">$((</span><span class="nv">$1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">$var</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="k">))</span>
</code></pre></div></p>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Consejo de uso</strong>, ya que es mucho más intuitivo que las anteriores expresiones.</p>
</div>
<h3 id="01shellscript-redirecciones">Redirecciones<a class="headerlink" href="#01shellscript-redirecciones" title="Permanent link">&para;</a></h3>
<ul>
<li>Una <strong>redirección</strong> consiste en trasladar la información de un fichero de dispositivo a otro.</li>
<li>
<p>Para ello se utilizan los siguientes símbolos:</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Símbolo</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>&lt;</code></td>
<td>redirecciona la entrada desde el fichero <strong>stdin</strong> (entrada estándar)</td>
</tr>
<tr>
<td style="text-align: center;"><code>&gt;</code></td>
<td>envía la salida de <strong>stdout</strong> (salida estándar) a un fichero especificado</td>
</tr>
<tr>
<td style="text-align: center;"><code>&gt;&gt;</code></td>
<td>añade la salida de <strong>stdout</strong> (salida estándar) a un fichero especificado</td>
</tr>
<tr>
<td style="text-align: center;"><code>2&gt;</code></td>
<td>envía la salida de <strong>stderr</strong> (error estándar) a un fichero especificado</td>
</tr>
<tr>
<td style="text-align: center;">* Ejemplo:</td>
<td></td>
</tr>
</tbody>
</table>
</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>sh<span class="w"> </span>script.sh<span class="w"> </span><span class="m">2</span>&gt;/dev/null
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>El objetivo de la expresión anterior puede ser utilizada en la administración de sistemas para descartar el error estándar de un proceso, de esta forma no aparecerán los mensajes de error por el terminal; <strong>es muy utilizado</strong>.</p>
</div>
<h3 id="01shellscript-tuberias">Tuberías<a class="headerlink" href="#01shellscript-tuberias" title="Permanent link">&para;</a></h3>
<ul>
<li>Forma práctica de <strong>redireccionar la salida estándar de un programa</strong> hacia la entrada estándar de otro.</li>
<li>Esto se logra usando el símbolo <code>|</code> (pipeline). Ejemplo:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$<span class="w"> </span>cat<span class="w"> </span>archivo.txt<span class="w"> </span><span class="p">|</span><span class="w"> </span>wc
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>El comando anterior utiliza tuberías para redireccionar la salida estándar del comando cat y pasarla como entrada estándar del comando wc para contar las líneas y palabras de un archivo.</p>
</div>
<h3 id="01shellscript-alias">alias<a class="headerlink" href="#01shellscript-alias" title="Permanent link">&para;</a></h3>
<ul>
<li>Alias es un comando que se ejecuta desde un terminal que permite configurar vínculos entre varios comandos.</li>
<li>Cada usuario puede asignar una palabra fácil de recordar a uno o más comandos que, por lo general, pueden ser más complicados de recordar.</li>
<li>Ejemplo:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$<span class="w"> </span><span class="nb">alias</span><span class="w"> </span><span class="nv">listado</span><span class="o">=</span><span class="s1">&#39;ls -lia&#39;</span>
</code></pre></div>
<hr />
<h2 id="01shellscript-control-de-flujo">Control de Flujo<a class="headerlink" href="#01shellscript-control-de-flujo" title="Permanent link">&para;</a></h2>
<h3 id="01shellscript-sistema-de-notacion">Sistema de notación<a class="headerlink" href="#01shellscript-sistema-de-notacion" title="Permanent link">&para;</a></h3>
<ul>
<li>Antes de lanzarse a escribir una sola línea de código es necesario pensar en la resolución del problema tal y como se ha indicado.</li>
<li>La creación de una solución a un problema siguiendo un conjunto de instrucciones se denomina algoritmo.</li>
<li>Es necesario invertir el tiempo suficiente para construir ese algoritmo ya que esa será la solución que se debe implementar en código.</li>
<li>Existen varios sistemas de representación para describir esos algoritmos, como por ejemplo, <strong>pseudocódigo</strong> o la descripción narrada, pero en este manual se ha optado por <strong>los diagramas de flujo</strong> ya que resultan más intuitivos.</li>
</ul>
<h4 id="01shellscript-diagramas-de-flujo">Diagramas de flujo<a class="headerlink" href="#01shellscript-diagramas-de-flujo" title="Permanent link">&para;</a></h4>
<ul>
<li>Los diagramas de flujo o flujogramas son la representación gráfica de la solución algorítmica de un problema.</li>
<li>Para diseñarlos se emplean figuras normalizadas que representan una acción dentro del procedimiento.</li>
<li>Cada una de estas figuras representa un paso a seguir dentro del algoritmo.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">NOTA</p>
<ul>
<li>Para su construcción se han de respetar las siguientes reglas:<ol>
<li>Tiene un elemento de inicio en la parte superior y uno final en la parte inferior.</li>
<li>Se escribe de arriba hacia abajo y de izquierda a derecha.</li>
<li>Siempre se usan flechas verticales u horizontales, jamás curvas u oblicuas</li>
<li>Se debe evitar cruce de flujos.</li>
<li>En cada paso expresar una acción concreta.</li>
</ol>
</li>
</ul>
</div>
<p>En la siguiente figura se puede observar <strong>simbología</strong> para diseñar diagramas de flujo.</p>
<figure>
  <img src="imagenes/01/SimboloDiagrama.png" width="400"/>
  <figcaption>Simbología diagramas.</figcaption>
</figure>

<h2 id="01shellscript-estructuras">Estructuras<a class="headerlink" href="#01shellscript-estructuras" title="Permanent link">&para;</a></h2>
<ul>
<li>Controlar el flujo es determinar el orden en el que se ejecutarán las instrucciones en un programa.</li>
<li>Si no existiese las estructuras de control del flujo, todo el código se ejecutarían de forma secuencial, es decir, empezarían por la primera instrucción y se ejecutarían una a una hasta llegar a la última.</li>
<li>Este modo de ejecución esta realizado por <strong>estructuras secuenciales</strong>. Ejemplo:</li>
</ul>
<figure>
  <img src="imagenes/01/EstructuraSecuencial.png" width="200"/>
  <figcaption>Estructura secuencial.</figcaption>
</figure>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>La estructura secuencial no es válida para solucionar la mayoría de los problemas que se plantean.</p>
</div>
<ul>
<li>Para ello es necesario la elección de un código u otro en función de ciertas condiciones, formando otro tipo de estructuras que son conocidas como <strong>estructuras condicionales</strong>; entre las cuales podemos destacar:<ol>
<li><strong>Estructuras Alternativas</strong>, según si se cumple la condición o no, se realizará una tarea u otra.<ul>
<li>Ejemplo de utilización con la sentencia: <strong>if</strong>.</li>
</ul>
</li>
<li><strong>Estructuras Iterativas</strong>, cuando necesario ejecutar algunas instrucciones repetidas veces.<ul>
<li>Ejemplo de utilización con la sentencia: <strong>for</strong>.</li>
</ul>
</li>
</ol>
</li>
</ul>
<h4 id="01shellscript-estructuras-alternativas">Estructuras alternativas<a class="headerlink" href="#01shellscript-estructuras-alternativas" title="Permanent link">&para;</a></h4>
<ul>
<li>Las estructuras de selección permiten ejecutar diferentes instrucciones dependiendo del valor de una variable o expresión.</li>
<li>También se les llama ramificaciones, estructuras de decisión o alternativas.</li>
<li>Cuando se usan, no todas las instrucciones del programa se ejecutan, solo las especificadas para el valor de la variable durante esa ejecución.</li>
<li>Las estructuras de selección más comunes son las que proporcionan ramificaciones dobles (<strong>if</strong>) y múltiples (<strong>elif</strong> y <strong>case</strong>).</li>
</ul>
<h5 id="01shellscript-estructura-alternativa-doble-if">Estructura alternativa doble: <strong>if</strong><a class="headerlink" href="#01shellscript-estructura-alternativa-doble-if" title="Permanent link">&para;</a></h5>
<ul>
<li>La forma general de la orden <strong>if</strong> es:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>expresión<span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos="2 "></span><span class="k">then</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span>realizar<span class="w"> </span>este<span class="w"> </span>código<span class="w"> </span>si<span class="w"> </span>expresión<span class="w"> </span>es<span class="w"> </span>verdadera
<span class="linenos" data-linenos="4 "></span><span class="k">fi</span>
</code></pre></div>
<figure>
  <img src="imagenes/01/Estructura_If.png" width="200"/>
  <figcaption>Estructura alternativa simple.</figcaption>
</figure>

<ul>
<li>Ejemplo: 
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$#</span><span class="w"> </span>-eq<span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos="2 "></span><span class="k">then</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span><span class="nv">VAR</span><span class="o">=</span><span class="nv">$1</span>
<span class="linenos" data-linenos="4 "></span><span class="k">fi</span>
</code></pre></div></li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>El código anterior comprueba se ha pasado algún argumento ,es decir, si han pasado un parámetro. En caso afirmativo, asigna el contenido de ese parámetro a la variable VAR.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Hay que recordar siempre cerrar esta estructura para indicarle al terminal donde termina, en este caso, se cierra con la palabra reservada <strong>fi</strong>.</p>
</div>
<h5 id="01shellscript-estructura-alternativa-multiple-if-then-else">Estructura alternativa multiple if then else<a class="headerlink" href="#01shellscript-estructura-alternativa-multiple-if-then-else" title="Permanent link">&para;</a></h5>
<ul>
<li>En este caso se contempla también la posibilidad de ejecutar alguna acción si no se cumple la expresión.</li>
<li>La forma general del <strong>if then else</strong> es:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>expresión<span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos="2 "></span><span class="k">then</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span>realizar<span class="w"> </span>si<span class="w"> </span>expresión<span class="w"> </span>es<span class="w"> </span>verdadera
<span class="linenos" data-linenos="4 "></span><span class="k">else</span>
<span class="linenos" data-linenos="5 "></span><span class="w">    </span>realizar<span class="w"> </span>si<span class="w"> </span>expresión<span class="w"> </span>es<span class="w"> </span>falsa
<span class="linenos" data-linenos="6 "></span><span class="k">fi</span>
</code></pre></div>
<figure>
  <img src="imagenes/01/Estructura_If_else.png" width="300"/>
  <figcaption>Estructura alternativa doble.</figcaption>
</figure>

<ul>
<li>Ejemplo: 
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>-gt<span class="w"> </span><span class="nv">$b</span><span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos="2 "></span><span class="k">then</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2"> es mayor que </span><span class="nv">$b</span><span class="s2">&quot;</span>
<span class="linenos" data-linenos="4 "></span><span class="k">else</span>
<span class="linenos" data-linenos="5 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2"> es menor que </span><span class="nv">$b</span><span class="s2">&quot;</span>
<span class="linenos" data-linenos="6 "></span><span class="k">fi</span>
</code></pre></div></li>
</ul>
<h5 id="01shellscript-la-estructura-if-then-elif-else">La estructura if then elif else<a class="headerlink" href="#01shellscript-la-estructura-if-then-elif-else" title="Permanent link">&para;</a></h5>
<ul>
<li>Permite una segunda evaluación para ejecutar código a través de la estructura <strong>elif</strong>.</li>
<li>Es posible colocar tantos elif como condiciones se requiera evaluar.</li>
<li>La forma general del <strong>if then elif else</strong> es:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>exp1<span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">then</span>
<span class="linenos" data-linenos=" 3 "></span><span class="w">    </span>realizar<span class="w"> </span>si<span class="w"> </span>exp1<span class="w"> </span>es<span class="w"> </span>verdadera
<span class="linenos" data-linenos=" 4 "></span><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>exp2<span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">    </span><span class="k">then</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">    </span>realizar<span class="w"> </span>si<span class="w"> </span>exp1<span class="w"> </span>es<span class="w"> </span>falsa,<span class="w"> </span>pero<span class="w"> </span>es<span class="w"> </span>verdadera<span class="w"> </span>exp2
<span class="linenos" data-linenos=" 7 "></span><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>exp3<span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos=" 8 "></span><span class="k">then</span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">    </span>realizar<span class="w"> </span>si<span class="w"> </span>exp1<span class="w"> </span>y<span class="w"> </span>exp2<span class="w"> </span>son<span class="w"> </span>falsas,<span class="w"> </span>pero<span class="w"> </span>es<span class="w"> </span>verdadera<span class="w"> </span>exp3
<span class="linenos" data-linenos="10 "></span><span class="k">else</span>
<span class="linenos" data-linenos="11 "></span><span class="w">    </span>realizar<span class="w"> </span>si<span class="w"> </span>todas<span class="w"> </span>las<span class="w"> </span>expresiones<span class="w"> </span>son<span class="w"> </span>falsas
<span class="linenos" data-linenos="12 "></span><span class="k">fi</span>
</code></pre></div>
<ul>
<li>Ejemplo: 
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>-gt<span class="w"> </span><span class="nv">$b</span><span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos="2 "></span><span class="k">then</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2"> es mayor que </span><span class="nv">$b</span><span class="s2">&quot;</span>
<span class="linenos" data-linenos="4 "></span><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$a</span><span class="w"> </span>-eq<span class="w"> </span><span class="nv">$b</span><span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos="5 "></span><span class="k">then</span>
<span class="linenos" data-linenos="6 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2"> es igual que </span><span class="nv">$b</span><span class="s2">&quot;</span>
<span class="linenos" data-linenos="7 "></span><span class="k">else</span>
<span class="linenos" data-linenos="8 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$a</span><span class="s2"> es menor que </span><span class="nv">$b</span><span class="s2">&quot;</span>
<span class="linenos" data-linenos="9 "></span><span class="k">fi</span>
</code></pre></div></li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Este ejemplo amplía el anterior comprobando si, además, los valores de a y b son iguales.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>El último caso se realiza con la sentencia <strong>else</strong>.</p>
</div>
<h5 id="01shellscript-la-estructura-case">La estructura case<a class="headerlink" href="#01shellscript-la-estructura-case" title="Permanent link">&para;</a></h5>
<ul>
<li>La estructura case permite realizar varias acciones en función del valor de una variable.</li>
<li>La limitación que tan sólo se comprueba si es igual a ese valor.</li>
<li>La forma general del <strong>case</strong> es:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="k">case</span><span class="w"> </span>VARIABLE<span class="w"> </span><span class="k">in</span>
<span class="linenos" data-linenos=" 2 "></span><span class="w">    </span>valor1<span class="o">)</span>
<span class="linenos" data-linenos=" 3 "></span><span class="w">        </span>Se<span class="w"> </span>ejecuta<span class="w"> </span>si<span class="w"> </span>VARIABLE<span class="w"> </span>tiene<span class="w"> </span>el<span class="w"> </span>valor1
<span class="linenos" data-linenos=" 4 "></span><span class="w">        </span><span class="p">;;</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">    </span>valor2<span class="o">)</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">        </span>Se<span class="w"> </span>ejecuta<span class="w"> </span>si<span class="w"> </span>VARIABLE<span class="w"> </span>tiene<span class="w"> </span>el<span class="w"> </span>valor2
<span class="linenos" data-linenos=" 7 "></span><span class="w">        </span><span class="p">;;</span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">    </span>*<span class="o">)</span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">        </span>Se<span class="w"> </span>ejecuta<span class="w"> </span>por<span class="w"> </span>defecto
<span class="linenos" data-linenos="10 "></span><span class="w">        </span><span class="p">;;</span>
<span class="linenos" data-linenos="11 "></span><span class="k">esac</span>
</code></pre></div>
<figure>
  <img src="imagenes/01/EstructuraAlternativaMultiple.png" width="600"/>
  <figcaption>Estructura Alternativa Multiple.</figcaption>
</figure>

<h4 id="01shellscript-estructuras-de-iteracion">Estructuras de iteración<a class="headerlink" href="#01shellscript-estructuras-de-iteracion" title="Permanent link">&para;</a></h4>
<ul>
<li>Son operaciones que se deben ejecutar un número repetido de veces para resolver un problema.</li>
<li>El conjunto de instrucciones que se ejecuta dentro de esta estructura, se denomina ciclo, bucle o lazo.</li>
<li><code>Iteración</code> es cada una de las pasadas o ejecuciones de todas las instrucciones contenidas en el bucle.</li>
<li>Estas repeticiones de código van a depender de la evaluación de una condición o del valor de una variable.</li>
<li>Es posible repetir un código hasta que se cumpla o deje de cumplir una condición pero también se posible la repetición tantas veces como indique una variable.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Hay que tener mucho cuidado a la hora de diseñar estas estructuras y no caer en el error de construir <strong>bucles infinitos</strong>, es decir, estructuras que nunca dejarán de ejecutarse ya que no tienen condición de salida o, si la tienen, ésta nunca se va a cumplir.</p>
</div>
<ul>
<li>Para utilizar esta estructura en algoritmos, se usan:</li>
</ul>
<ol>
<li><strong>Contador:</strong> es una variable cuyo valor se incrementa o decrementa en una cantidad constante cada vez que se produce un determinado suceso o acción. Los contadores se utilizan con la finalidad de contar sucesos o acciones internas de un bucle.</li>
</ol>
<div class="admonition info">
<p class="admonition-title">NOTA</p>
<p>La inicialización consiste en asignarle al contador un valor. Se situará antes y fuera del bucle.</p>
</div>
<ol start="2">
<li><strong>Acumulador o Totalizador</strong> es una variable que suma sobre sí misma un conjunto de valores para de esta manera tener el total de todos ellos en una sola variable.</li>
</ol>
<div class="admonition info">
<p class="admonition-title">NOTA</p>
<p>La diferencia entre un contador y un acumulador es que mientras el primero va aumentando de uno en uno, el acumulador va aumentando en una cantidad variable.</p>
</div>
<ol start="3">
<li><strong>Banderas</strong>, conocidas también como interruptores, switch, flags o conmutadores. Son variables que pueden tomar solamente dos valores durante la ejecución del programa, los cuales pueden ser <strong>cero o uno</strong>, o bien los valores <strong>booleanos verdadero o falso</strong>.</li>
</ol>
<div class="admonition info">
<p class="admonition-title">NOTA</p>
<p>Se les suele llamar interruptores porque cuando toman un valor están simulando un interruptor abierto/cerrado o encendido/apagado.</p>
</div>
<figure>
  <img src="imagenes/01/EstructuraIterativa.png" width="300"/>
  <figcaption>Estructura Iterativa.</figcaption>
</figure>

<h5 id="01shellscript-las-estructuras-while-y-until">Las estructuras while y until<a class="headerlink" href="#01shellscript-las-estructuras-while-y-until" title="Permanent link">&para;</a></h5>
<p>Estas estructuras van a repetir el código que contienen mientras la expresión evaluada sea verdadera. Funcionamiento:</p>
<ul>
<li>Evalúa la condición, si es falsa, no realiza ninguna acción y continua con el siguiente código del programa.</li>
<li>Si es verdadera entra en el bucle y ejecuta el código que contiene.</li>
<li>Al finalizar la ejecución, al iterar, vuelve a evaluar la condición y vuelve a repetir la operación anterior.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Al construir una estructura while es preciso asegurarse que en algún momento de su ejecución la condición dejará de cumplirse y se romperá el ciclo, si no, éste será infinito, a menos que el usuario o el sistema interrumpa su ejecución.</p>
</div>
<ul>
<li>
<p><code>WHILE</code>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>expresión<span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos="2 "></span><span class="k">do</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span>código<span class="w"> </span>se<span class="w"> </span>repite<span class="w"> </span>MIENTRAS<span class="w"> </span>la<span class="w"> </span>expresión<span class="w"> </span>sea<span class="w"> </span>verdadera
<span class="linenos" data-linenos="4 "></span><span class="k">done</span>
</code></pre></div></p>
</li>
<li>
<p><code>UNTIL</code>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">until</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>expresión<span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos="2 "></span><span class="k">do</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span>código<span class="w"> </span>se<span class="w"> </span>repite<span class="w"> </span>HASTA<span class="w"> </span>que<span class="w"> </span>la<span class="w"> </span>expresión<span class="w"> </span>sea<span class="w"> </span>verdadera
<span class="linenos" data-linenos="4 "></span><span class="k">done</span>
</code></pre></div></p>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>La diferencia es que un <code>until</code> se ejecuta como mínimo una vez, ya que ejecuta el código y luego comprueba, mientras que el <code>while</code> es posible que nunca se ejecute, ya que es posible que la condición de entrada nunca se cumpla.</p>
</div>
<ul>
<li>Ejemplo:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="ch">#! /bin/bash</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Escribe un número: &quot;</span><span class="w"> </span>num
<span class="linenos" data-linenos="3 "></span><span class="nv">i</span><span class="o">=</span><span class="m">1</span>
<span class="linenos" data-linenos="4 "></span><span class="k">while</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$i</span><span class="w"> </span>-le<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos="5 "></span><span class="k">do</span>
<span class="linenos" data-linenos="6 "></span><span class="w">    </span><span class="nb">let</span><span class="w"> </span><span class="nv">res</span><span class="o">=</span>num*i
<span class="linenos" data-linenos="7 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$i</span><span class="s2"> x </span><span class="nv">$num</span><span class="s2"> = </span><span class="nv">$res</span><span class="s2">&quot;</span>
<span class="linenos" data-linenos="8 "></span><span class="w">    </span><span class="nb">let</span><span class="w"> </span><span class="nv">i</span><span class="o">=</span>i+1
<span class="linenos" data-linenos="9 "></span><span class="k">done</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Este código imprime por pantalla la tabla de multiplicar del número que el usuario ha especificado. Las líneas contenidas entre <code>do</code> y <code>done</code> se ejecutarán mientras i sea menor o igual a diez. Al final de cada iteración el valor de i se incrementa en uno (es un contador) por lo que en diez iteraciones la condición dejará de cumplirse y el bucle se romperá.</p>
</div>
<h5 id="01shellscript-la-estructuras-for">La estructuras for<a class="headerlink" href="#01shellscript-la-estructuras-for" title="Permanent link">&para;</a></h5>
<ul>
<li>Esta estructura permite repetir código por cada elemento de un conjunto determinado.</li>
<li>No necesita condición de salida ya que al finalizar los elementos del conjunto acabará con su ejecución.</li>
<li>la forma general es:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">for</span><span class="w"> </span>variable<span class="w"> </span><span class="k">in</span><span class="w"> </span>conjunto
<span class="linenos" data-linenos="2 "></span><span class="k">do</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span>estas<span class="w"> </span>líneas<span class="w"> </span>se<span class="w"> </span>repiten<span class="w"> </span>una<span class="w"> </span>vez<span class="w"> </span>por<span class="w"> </span>cada<span class="w"> </span>elemento<span class="w"> </span>del<span class="w"> </span>conjunto
<span class="linenos" data-linenos="4 "></span><span class="w">    </span>variable<span class="w"> </span>toma<span class="w"> </span>los<span class="w"> </span>valores<span class="w"> </span>del<span class="w"> </span>conjunto,<span class="w"> </span>uno<span class="w"> </span>en<span class="w"> </span>cada<span class="w"> </span>iteración
<span class="linenos" data-linenos="5 "></span><span class="k">done</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Ejemplo:</p>
</div>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="ch">#! /bin/bash</span>
<span class="linenos" data-linenos=" 2 "></span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span>“Escribe<span class="w"> </span>la<span class="w"> </span>dirección<span class="w"> </span>de<span class="w"> </span>una<span class="w"> </span>carpeta:<span class="w"> </span>“<span class="w"> </span>car
<span class="linenos" data-linenos=" 3 "></span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>ls<span class="w"> </span><span class="nv">$car</span><span class="k">)</span>
<span class="linenos" data-linenos=" 4 "></span><span class="k">do</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-f<span class="w"> </span><span class="nv">$i</span><span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">    </span><span class="k">then</span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">        </span><span class="nb">echo</span><span class="w"> </span>“<span class="nv">$i</span><span class="w"> </span>es<span class="w"> </span>un<span class="w"> </span>archivo<span class="w"> </span>de<span class="w"> </span>tipo<span class="w"> </span>regular”
<span class="linenos" data-linenos=" 8 "></span><span class="w">    </span><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span>-d<span class="w"> </span><span class="nv">$i</span><span class="w"> </span><span class="o">]</span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">    </span><span class="k">then</span>
<span class="linenos" data-linenos="10 "></span><span class="w">        </span><span class="nb">echo</span><span class="w"> </span>“<span class="nv">$i</span><span class="w"> </span>es<span class="w"> </span>un<span class="w"> </span>archivo<span class="w"> </span>de<span class="w"> </span>tipo<span class="w"> </span>directorio”
<span class="linenos" data-linenos="11 "></span><span class="w">    </span><span class="k">else</span>
<span class="linenos" data-linenos="12 "></span><span class="w">        </span><span class="nb">echo</span><span class="w"> </span>“<span class="nv">$i</span><span class="w"> </span>es<span class="w"> </span>otro<span class="w"> </span>tipo<span class="w"> </span>de<span class="w"> </span>archivo<span class="w"> </span>o<span class="w"> </span>no<span class="w"> </span>existe”
<span class="linenos" data-linenos="13 "></span><span class="w">    </span><span class="k">fi</span>
<span class="linenos" data-linenos="14 "></span><span class="k">done</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">NOTA</p>
<p>Este ejemplo se van a mostrar los nombres de los ficheros que contiene un directorio y dirá si es un directorio o un fichero.</p>
</div>
<blockquote>
<p>Romper un bucle de forma deliberada</p>
</blockquote>
<p>No sólo es posible terminar un bucle cuando se cumpla una condición o cuando se terminen los elementos de un conjunto, shell script proporciona dos formas de alterar el funcionamiento de la estructura en un bucle y romperla en función de las necesidades del programa:</p>
<ol>
<li><code>break</code> rompe el bucle que lo contiene y continúa la ejecución del script.</li>
<li><code>continue</code> rompe la iteración que lo contiene, pero mantiene el bucle, que continuará con la siguiente iteración hasta que termine su ejecución.</li>
<li><code>exit</code> detiene la ejecución del script. Este comando no es exclusivo de las estructuras iterativas, pero cobra especial sentido en este ámbito.</li>
</ol>
<h2 id="01shellscript-vectores-y-funciones">Vectores y Funciones<a class="headerlink" href="#01shellscript-vectores-y-funciones" title="Permanent link">&para;</a></h2>
<h3 id="01shellscript-vectores-en-shell-script">Vectores en shell script<a class="headerlink" href="#01shellscript-vectores-en-shell-script" title="Permanent link">&para;</a></h3>
<ul>
<li>Un vector es una estructura de datos que permite almacenar una colección de elementos.</li>
<li>Por el hecho de tratarse de una estructura de datos es posible realizar operaciones sobre él como buscar, eliminar y agregar elementos a su estructura.</li>
<li>Los elementos se encuentran ordenados en función de como han sido introducidos en la estructura.</li>
<li>Para acceder a cada elemento será necesario especificar la posición que ocupan dentro de ella, teniendo presente que la numeración de los vectores comienza desde cero, no desde uno.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Un buen ejemplo de uso sería, recoger el listado de archivos que hay en una carpeta.</p>
</div>
<figure>
  <img src="imagenes/01/EsquemaVector.png" width="500"/>
  <figcaption>Esquema de un vector de doce elementos.</figcaption>
</figure>

<p>Para definir un vector disponemos de dos formas:</p>
<ol>
<li><strong>Implícita:</strong> hace referencia a que el vector ha sido declarado y al mismo tiempo se han inicializado sus valores.</li>
<li><strong>Explícitamente:</strong> cuando el vector no requiere que se inicialice mientras se declara, es decir, pueden ser inicializados con posterioridad.</li>
</ol>
<p>Para declarar un vector hay que utilizar la siguiente estructura:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">meses</span><span class="o">=(</span><span class="s2">&quot;enero&quot;</span><span class="w"> </span><span class="s2">&quot;febrero&quot;</span><span class="w"> </span><span class="s2">&quot;marzo&quot;</span><span class="o">)</span>
</code></pre></div>
<p>También es posible utilizar alguna expresión para completar un vector, como con el operador rango ...</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nb">declare</span><span class="w"> </span>-a<span class="w"> </span><span class="nv">letras</span><span class="o">=(</span><span class="w"> </span><span class="o">{</span>N..Z<span class="o">}</span><span class="w"> </span><span class="o">{</span>s..z<span class="o">}</span><span class="w"> </span><span class="o">)</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">letras</span><span class="p">[*]</span><span class="si">}</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>Esto creará un vector con el siguiente contenido y lo mostrará por pantalla así:</li>
<li>N O P Q R S T U V W X Y Z s t u v w x y z</li>
</ul>
</div>
<ul>
<li>Para añadir un elemento a la estructura se debe indicar el índice o posición que ocupará el nuevo dato.</li>
<li>Si el índice es mayor que la última posición de la estructura, se escribirá al final de la misma.</li>
<li>Si se usa un índice que ya contiene un dato, éste será sobrescrito.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>meses<span class="o">[</span><span class="m">3</span><span class="o">]=</span><span class="s2">&quot;abril&quot;</span>
</code></pre></div>
<ul>
<li>Para mostrar el contenido del vector:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">meses</span><span class="p">[*]</span><span class="si">}</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Mostrará: 
enero febrero marzo abril</p>
</div>
<ul>
<li>Es buena idea conocer el número de elementos que contiene un vector para poder introducir datos de forma correcta y no sobrescribir por accidente algún valor ya almacenado. Así es posible utilizar:</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;">Comando</th>
<th>Acción</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>${meses[*]}</code></td>
<td>Muestra todos los valores del vector</td>
</tr>
<tr>
<td style="text-align: center;"><code>${!meses[*]}</code></td>
<td>Muestra todos los índices del vector</td>
</tr>
<tr>
<td style="text-align: center;"><code>${#meses[*]}</code></td>
<td>Devuelve el número de valores del vector</td>
</tr>
<tr>
<td style="text-align: center;"><code>${#meses[0]}</code></td>
<td>Imprime la longitud del primer dato del vector</td>
</tr>
</tbody>
</table>
<ul>
<li>Para recorrer los valores que contiene esta estructura se puede utilizar un bucle <strong>for</strong></li>
</ul>
<p><div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">for</span><span class="w"> </span>item<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="si">${</span><span class="nv">meses</span><span class="p">[*]</span><span class="si">}</span>
<span class="linenos" data-linenos="2 "></span><span class="k">do</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$item</span>
<span class="linenos" data-linenos="4 "></span><span class="k">done</span>
</code></pre></div>
* También se puede utilizar sus índices para mostrar los datos contenidos.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">for</span><span class="w"> </span>index<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="si">${</span><span class="p">!meses[*]</span><span class="si">}</span>
<span class="linenos" data-linenos="2 "></span><span class="k">do</span>
<span class="linenos" data-linenos="3 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="si">${</span><span class="nv">meses</span><span class="p">[</span><span class="nv">$index</span><span class="p">]</span><span class="si">}</span>
<span class="linenos" data-linenos="4 "></span><span class="k">done</span>
</code></pre></div>
<ul>
<li>Es una estructura muy útil en la que se puede guardar cualquier tipo de información, como por ejemplo los ficheros que contiene una carpeta:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nv">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span>
<span class="linenos" data-linenos="2 "></span><span class="k">for</span><span class="w"> </span>fichero<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="k">$(</span>ls<span class="w"> </span>-a<span class="k">)</span>
<span class="linenos" data-linenos="3 "></span><span class="k">do</span>
<span class="linenos" data-linenos="4 "></span><span class="w">    </span>ficheros<span class="o">[</span><span class="nv">$i</span><span class="o">]=</span><span class="nv">$fichero</span><span class="p">;</span>
<span class="linenos" data-linenos="5 "></span><span class="w">    </span><span class="nb">let</span><span class="w"> </span><span class="nv">i</span><span class="o">=</span>i+1<span class="p">;</span>
<span class="linenos" data-linenos="6 "></span><span class="k">done</span>
</code></pre></div>
<h3 id="01shellscript-funciones-en-shell-script">Funciones en shell script<a class="headerlink" href="#01shellscript-funciones-en-shell-script" title="Permanent link">&para;</a></h3>
<ul>
<li>Una función es un conjunto de líneas de código que se distinguen a través de un identificador y que se ejecutan al invocar ese identificador.</li>
<li>Se podría definir como un shell script dentro de un shell script.</li>
<li>Sirve para organizarlo en unidades lógicas más pequeñas de manera que sea más fácil mantenerlo.</li>
<li>Las funciones aceptan parámetros, de idéntica manera que los shell script, por lo que su uso también es muy intuitivo.</li>
<li>La estructura de una función queda definida de la siguiente manera:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">function</span><span class="w"> </span>nombre_función<span class="o">(){</span>
<span class="linenos" data-linenos="2 "></span><span class="w">    </span>código<span class="w"> </span>que<span class="w"> </span>se<span class="w"> </span>ejecutará<span class="w"> </span>al<span class="w"> </span>llamar<span class="w"> </span>a<span class="w"> </span>la<span class="w"> </span>función
<span class="linenos" data-linenos="3 "></span><span class="o">}</span>
</code></pre></div>
<ul>
<li>Ejemplo:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="c1">##! /bin/bash</span>
<span class="linenos" data-linenos=" 2 "></span><span class="k">function</span><span class="w"> </span>imprimir_tabla<span class="o">(){</span>
<span class="linenos" data-linenos=" 3 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span>“Tabla<span class="w"> </span>del<span class="w"> </span>número<span class="w"> </span><span class="nv">$1</span>”
<span class="linenos" data-linenos=" 4 "></span><span class="w">    </span><span class="k">for</span><span class="w"> </span>i<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="m">7</span><span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="m">10</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">    </span><span class="k">do</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">        </span><span class="nb">let</span><span class="w"> </span><span class="nv">res</span><span class="o">=</span><span class="nv">$1</span>*i
<span class="linenos" data-linenos=" 7 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span>“<span class="nv">$i</span><span class="w"> </span>x<span class="w"> </span><span class="nv">$1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$res</span>”
<span class="linenos" data-linenos=" 8 "></span><span class="w">    </span><span class="k">done</span>
<span class="linenos" data-linenos=" 9 "></span><span class="o">}</span>
<span class="linenos" data-linenos="10 "></span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span>“Escribe<span class="w"> </span>un<span class="w"> </span>número:<span class="w"> </span>“<span class="w"> </span>num
<span class="linenos" data-linenos="11 "></span>imprimir_tabla<span class="w"> </span><span class="nv">$num</span>
<span class="linenos" data-linenos="12 "></span>imprimir_tabla<span class="w"> </span><span class="m">5</span>
</code></pre></div>
<ul>
<li>En este ejemplo se ha construido una función para imprimir la tabla de multiplicar de un número pasado como parámetro.</li>
<li>En la siguiente línea le pedimos al programa que imprima la tabla del número cinco.</li>
<li>No se ha necesitado escribir el código que imprime la su tabla de multiplicar de nuevo, ya que con invocar el nombre de la función el programa ya sabe que código debe ejecutar.</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul>
<li>Nótese que el valor de <code>$1</code> no se pasa como parámetro del shell script, si no como parámetro a la función imprimir_tabla tras haberlo preguntado al usuario.</li>
<li>Hay que tener en cuenta que las variables que se declaran dentro de una función existen únicamente dentro de ella. Si es preciso utilizar una variable fuera de una función se puede usar <code>return</code>, que devuelve un valor fuera de ella, o usar la palabra reservada <code>GLOBAL</code></li>
<li>Es preferible utilizar el primer método para que devuelva un valor que será recogido en otra variable fuera de la función que lo originó.</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li><code>source</code></li>
<li>Para incluir el código de un fichero en otro tan sólo será necesario utilizar la palabra source seguida de la ruta de ese fichero. * </li>
<li>También es posible usar el punto para poder cargarlo:</li>
<li><code>source funciones.sh</code> o <code>./funciones.sh</code></li>
</ul>
</div>
<h3 id="01shellscript-llamada-a-scripts-externos-como-funciones">Llamada a Scripts Externos como Funciones<a class="headerlink" href="#01shellscript-llamada-a-scripts-externos-como-funciones" title="Permanent link">&para;</a></h3>
<ul>
<li>En ocasiones es útil <strong>modularizar</strong> un script principal dividiéndolo en varios archivos <code>.sh</code> que actúen como funciones especializadas.</li>
<li>Esto permite <strong>organizar mejor el código</strong> y <strong>reutilizar</strong> scripts en diferentes proyectos.</li>
</ul>
<h4 id="01shellscript-metodo-1-usando-source-o">Método 1: Usando <code>source</code> o <code>.</code><a class="headerlink" href="#01shellscript-metodo-1-usando-source-o" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>source</code></strong> ejecuta el script en el contexto actual del shell, permitiendo compartir variables.</li>
<li><strong><code>.</code></strong> es equivalente a <code>source</code> pero más corto.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1"># script_principal.sh</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span><span class="c1"># Cargar funciones desde archivos externos</span>
<span class="linenos" data-linenos=" 5 "></span><span class="nb">source</span><span class="w"> </span>funciones_servidor.sh
<span class="linenos" data-linenos=" 6 "></span><span class="nb">source</span><span class="w"> </span>monitoreo.sh
<span class="linenos" data-linenos=" 7 "></span><span class="nb">source</span><span class="w"> </span>backup.sh
<span class="linenos" data-linenos=" 8 "></span>
<span class="linenos" data-linenos=" 9 "></span><span class="c1"># Ahora podemos usar las funciones definidas en esos archivos</span>
<span class="linenos" data-linenos="10 "></span>menu_principal<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="linenos" data-linenos="11 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;=== MENÚ PRINCIPAL ===&quot;</span>
<span class="linenos" data-linenos="12 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1) Gestión de servidores&quot;</span>
<span class="linenos" data-linenos="13 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2) Monitoreo&quot;</span>
<span class="linenos" data-linenos="14 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;3) Backup&quot;</span>
<span class="linenos" data-linenos="15 "></span><span class="w">    </span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Selecciona opción: &quot;</span><span class="w"> </span>opcion
<span class="linenos" data-linenos="16 "></span>
<span class="linenos" data-linenos="17 "></span><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$opcion</span><span class="w"> </span><span class="k">in</span>
<span class="linenos" data-linenos="18 "></span><span class="w">        </span><span class="m">1</span><span class="o">)</span><span class="w"> </span>gestionar_servidores<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="19 "></span><span class="w">        </span><span class="m">2</span><span class="o">)</span><span class="w"> </span>monitorear_sistema<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="20 "></span><span class="w">        </span><span class="m">3</span><span class="o">)</span><span class="w"> </span>crear_backup<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="21 "></span><span class="w">    </span><span class="k">esac</span>
<span class="linenos" data-linenos="22 "></span><span class="o">}</span>
<span class="linenos" data-linenos="23 "></span>
<span class="linenos" data-linenos="24 "></span><span class="c1"># Ejecutar menú principal</span>
<span class="linenos" data-linenos="25 "></span>menu_principal
</code></pre></div>
<h4 id="01shellscript-metodo-2-ejecutando-scripts-como-comandos">Método 2: Ejecutando Scripts como Comandos<a class="headerlink" href="#01shellscript-metodo-2-ejecutando-scripts-como-comandos" title="Permanent link">&para;</a></h4>
<ul>
<li>Los scripts se ejecutan como <strong>subprocesos independientes</strong>.</li>
<li>No comparten variables con el script principal.</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1"># script_principal.sh</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span>menu_principal<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;=== MENÚ PRINCIPAL ===&quot;</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1) Gestión de servidores&quot;</span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2) Monitoreo&quot;</span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;3) Backup&quot;</span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">    </span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Selecciona opción: &quot;</span><span class="w"> </span>opcion
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$opcion</span><span class="w"> </span><span class="k">in</span>
<span class="linenos" data-linenos="12 "></span><span class="w">        </span><span class="m">1</span><span class="o">)</span><span class="w"> </span>./funciones_servidor.sh<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="13 "></span><span class="w">        </span><span class="m">2</span><span class="o">)</span><span class="w"> </span>./monitoreo.sh<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="14 "></span><span class="w">        </span><span class="m">3</span><span class="o">)</span><span class="w"> </span>./backup.sh<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="15 "></span><span class="w">    </span><span class="k">esac</span>
<span class="linenos" data-linenos="16 "></span><span class="o">}</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span><span class="c1"># Ejecutar menú principal</span>
<span class="linenos" data-linenos="19 "></span>menu_principal
</code></pre></div>
<h4 id="01shellscript-ejemplo-practico-sistema-modular">Ejemplo Práctico: Sistema Modular<a class="headerlink" href="#01shellscript-ejemplo-practico-sistema-modular" title="Permanent link">&para;</a></h4>
<p><strong>Estructura de archivos:</strong>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>sistema_gestion/
<span class="linenos" data-linenos="2 "></span>├── menu_principal.sh
<span class="linenos" data-linenos="3 "></span>├── funciones_servidor.sh
<span class="linenos" data-linenos="4 "></span>├── monitoreo.sh
<span class="linenos" data-linenos="5 "></span>├── backup.sh
<span class="linenos" data-linenos="6 "></span>└── configuracion.conf
</code></pre></div></p>
<p><strong>menu_principal.sh:</strong>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1"># Cargar configuración</span>
<span class="linenos" data-linenos=" 3 "></span><span class="nb">source</span><span class="w"> </span>./configuracion.conf
<span class="linenos" data-linenos=" 4 "></span>
<span class="linenos" data-linenos=" 5 "></span><span class="c1"># Cargar módulos</span>
<span class="linenos" data-linenos=" 6 "></span><span class="nb">source</span><span class="w"> </span>./funciones_servidor.sh
<span class="linenos" data-linenos=" 7 "></span><span class="nb">source</span><span class="w"> </span>./monitoreo.sh
<span class="linenos" data-linenos=" 8 "></span><span class="nb">source</span><span class="w"> </span>./backup.sh
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span><span class="c1"># Función principal</span>
<span class="linenos" data-linenos="11 "></span>main<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="linenos" data-linenos="12 "></span><span class="w">    </span><span class="k">while</span><span class="w"> </span>true<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="linenos" data-linenos="13 "></span><span class="w">        </span>clear
<span class="linenos" data-linenos="14 "></span><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;=== SISTEMA DE GESTIÓN ===&quot;</span>
<span class="linenos" data-linenos="15 "></span><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1) Gestión de servidores&quot;</span>
<span class="linenos" data-linenos="16 "></span><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2) Monitoreo del sistema&quot;</span>
<span class="linenos" data-linenos="17 "></span><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;3) Copias de seguridad&quot;</span>
<span class="linenos" data-linenos="18 "></span><span class="w">        </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;4) Salir&quot;</span>
<span class="linenos" data-linenos="19 "></span><span class="w">        </span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Selecciona opción: &quot;</span><span class="w"> </span>opcion
<span class="linenos" data-linenos="20 "></span>
<span class="linenos" data-linenos="21 "></span><span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="nv">$opcion</span><span class="w"> </span><span class="k">in</span>
<span class="linenos" data-linenos="22 "></span><span class="w">            </span><span class="m">1</span><span class="o">)</span><span class="w"> </span>gestionar_servidores<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="23 "></span><span class="w">            </span><span class="m">2</span><span class="o">)</span><span class="w"> </span>monitorear_sistema<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="24 "></span><span class="w">            </span><span class="m">3</span><span class="o">)</span><span class="w"> </span>crear_backup<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="25 "></span><span class="w">            </span><span class="m">4</span><span class="o">)</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="26 "></span><span class="w">            </span>*<span class="o">)</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Opción inválida&quot;</span><span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="27 "></span><span class="w">        </span><span class="k">esac</span>
<span class="linenos" data-linenos="28 "></span><span class="w">    </span><span class="k">done</span>
<span class="linenos" data-linenos="29 "></span><span class="o">}</span>
<span class="linenos" data-linenos="30 "></span>
<span class="linenos" data-linenos="31 "></span><span class="c1"># Ejecutar programa principal</span>
<span class="linenos" data-linenos="32 "></span>main
</code></pre></div></p>
<p><strong>funciones_servidor.sh:</strong>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span><span class="ch">#!/bin/bash</span>
<span class="linenos" data-linenos=" 2 "></span><span class="c1"># Módulo de gestión de servidores</span>
<span class="linenos" data-linenos=" 3 "></span>
<span class="linenos" data-linenos=" 4 "></span>gestionar_servidores<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="linenos" data-linenos=" 5 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;=== GESTIÓN DE SERVIDORES ===&quot;</span>
<span class="linenos" data-linenos=" 6 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;1) Listar servidores&quot;</span>
<span class="linenos" data-linenos=" 7 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;2) Añadir servidor&quot;</span>
<span class="linenos" data-linenos=" 8 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;3) Buscar servidor&quot;</span>
<span class="linenos" data-linenos=" 9 "></span><span class="w">    </span><span class="nb">read</span><span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;Selecciona opción: &quot;</span><span class="w"> </span>opcion
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span><span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nv">$opcion</span><span class="w"> </span><span class="k">in</span>
<span class="linenos" data-linenos="12 "></span><span class="w">        </span><span class="m">1</span><span class="o">)</span><span class="w"> </span>listar_servidores<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="13 "></span><span class="w">        </span><span class="m">2</span><span class="o">)</span><span class="w"> </span>añadir_servidor<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="14 "></span><span class="w">        </span><span class="m">3</span><span class="o">)</span><span class="w"> </span>buscar_servidor<span class="w"> </span><span class="p">;;</span>
<span class="linenos" data-linenos="15 "></span><span class="w">    </span><span class="k">esac</span>
<span class="linenos" data-linenos="16 "></span><span class="o">}</span>
<span class="linenos" data-linenos="17 "></span>
<span class="linenos" data-linenos="18 "></span>listar_servidores<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="linenos" data-linenos="19 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Listando servidores...&quot;</span>
<span class="linenos" data-linenos="20 "></span><span class="w">    </span><span class="c1"># Código para listar servidores</span>
<span class="linenos" data-linenos="21 "></span><span class="o">}</span>
<span class="linenos" data-linenos="22 "></span>
<span class="linenos" data-linenos="23 "></span>añadir_servidor<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="linenos" data-linenos="24 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Añadiendo servidor...&quot;</span>
<span class="linenos" data-linenos="25 "></span><span class="w">    </span><span class="c1"># Código para añadir servidor</span>
<span class="linenos" data-linenos="26 "></span><span class="o">}</span>
<span class="linenos" data-linenos="27 "></span>
<span class="linenos" data-linenos="28 "></span>buscar_servidor<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="linenos" data-linenos="29 "></span><span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Buscando servidor...&quot;</span>
<span class="linenos" data-linenos="30 "></span><span class="w">    </span><span class="c1"># Código para buscar servidor</span>
<span class="linenos" data-linenos="31 "></span><span class="o">}</span>
</code></pre></div></p>
<h4 id="01shellscript-ventajas-de-la-modularizacion">Ventajas de la Modularización<a class="headerlink" href="#01shellscript-ventajas-de-la-modularizacion" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Organización:</strong> Código más limpio y organizado</li>
<li><strong>Reutilización:</strong> Scripts pueden usarse en otros proyectos</li>
<li><strong>Mantenimiento:</strong> Fácil modificar módulos específicos</li>
<li><strong>Colaboración:</strong> Diferentes personas pueden trabajar en módulos diferentes</li>
<li><strong>Debugging:</strong> Más fácil localizar y corregir errores</li>
</ul>
<h4 id="01shellscript-consideraciones-importantes">Consideraciones Importantes<a class="headerlink" href="#01shellscript-consideraciones-importantes" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Permisos:</strong> Asegurar que los scripts tengan permisos de ejecución (<code>chmod +x</code>)</li>
<li><strong>Rutas:</strong> Usar rutas relativas o absolutas correctas</li>
<li><strong>Variables:</strong> Con <code>source</code> se comparten variables, con ejecución directa no</li>
<li>
<p><strong>Dependencias:</strong> Verificar que todos los módulos necesarios estén disponibles</p>
</li>
<li>
<p>Las funciones suelen declararse al inicio del documento y luego utilizadas a lo largo del programa.</p>
</li>
<li>Uno de los objetivos es optimizar el código, mediante el "aprovechamiento" de código. Cuando un conjunto de líneas de código se repiten, es posible agruparlas bajo un nombre y utilizar ese nombre en lugar de repetir este código.</li>
</ul>
<hr />
<h2 id="01shellscript-actividades">Actividades<a class="headerlink" href="#01shellscript-actividades" title="Permanent link">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">Formato de entrega</p>
<p>Escribe el código de los scripts en <strong>ShellScript</strong> que se detallan en cada ejercicio. Deberás crear un fichero de texto para cada ejercicio con el siguiente nombre: ejXXX.sh, donde las X representan el número de ejercicio. Una vez terminada la práctica, comprime todos estos ficheros en uno y súbelos al Moodle</p>
</div>
<!-- Para la entrega de las actividades, si no se pide una captura o un archivo concreto, se debe adjuntar un fichero de texto en formato Markdown con el enunciado y la solución justificada. El nombre del archivo debe contener el nombre de la actividad y el nombre del alumn@. Por ejemplo, para la actividad AC101, la alumna Laura entregará el archivo AC101Laura.md. Dentro del documento, se seguirá la siguiente estructura:
    ```markdown
    AC101Laura.md

    # AC101

    Laura García Sánchez

    ## Enunciado

    Aquí copio el enunciado de la actividad.

    ## Solución

    Aquí escribo la solución de la actividad. -->

<p><a name="AC101"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC101</strong>. (RA.7 // CE7a, CE7b, CE7g y CE7i // 1-3p) Crea un shell script que muestre por pantalla el mensaje “<strong>¡Hola Mundo!</strong>”.</li>
</ul>
<p><a name="AC102"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC102</strong>. (RA.7 // CE7a, CE7b, CE7g y CE7i // 1-3p) Realiza un script que guarde en un fichero el listado de archivos y directorios de la carpeta <em>etc</em>, a posteriori que imprima por pantalla dicho listado.</li>
</ul>
<p><a name="AC103"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC103</strong>. (RA.7 // CE7a, CE7b, CE7g y CE7i // 1-3p) Modifica el script anterior para que además muestre por pantalla el número de líneas del archivo y el número de palabras.</li>
</ul>
<p><a name="AC104"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC104</strong>. (RA.7 // CE7a, CE7b, CE7f y CE7i // 1-3p) Crea un shell script que muestre por pantalla el resultado de de las siguientes operaciones. Debes tener en cuenta que a, b y c son variables enteras que son preguntadas al usuario al iniciar el script.<ul>
<li>a%b</li>
<li>a/c</li>
<li>2 * b + 3 * (a-c)</li>
<li>a * (b/c)</li>
<li>(a*c)%b</li>
</ul>
</li>
</ul>
<p><a name="AC105"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC105</strong>. (RA.7 // CE7a, CE7b, CE7f y CE7i // 1-3p) Realiza un script que muestre por pantalla los parámetros introducidos separados por espacio, el número de parámetros que se han pasado, y  el nombre del script.</li>
</ul>
<p><a name="AC106"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC106</strong>. (RA.7 // CE7a, CE7b, CE7f y CE7i // 1-3p) Diseña un script en Shell que pida al usuario dos números, los guarde en dos variables y los muestre por pantalla.</li>
</ul>
<p><a name="AC107"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC107</strong>. (RA.7 // CE7a, CE7b, CE7e, CE7f y CE7i // 1-3p) Genera un script que muestre los usuarios conectados en el sistema operativo, comprobando que son usuarios dados de alta en el mismo.</li>
</ul>
<p><a name="AC108"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC108</strong>. (RA.7 // CE7a, CE7f y CE7i // 1-3p) Crea un shell script que al ejecutarlo muestre por pantalla uno de estos mensajes <strong>"Buenos días"</strong>, <strong>"Buenas tardes"</strong> o <strong>"Buenas noches"</strong>, en función de la hora que sea en el sistema (de 8:00 de la mañana a 15:00 será mañana, de 15:00 a 20:00 será tarde y el resto será noche). Para obtener la hora del sistema utiliza el comando date.</li>
</ul>
<p><a name="AC109"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC109</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7f y CE7i // 1-3p) Construye un programa denominado AGENDA que permita mediante un menú, el mantenimiento de un pequeño archivo lista.txt con el nombre, dirección y teléfono de varias personas. Debes incluir estas opciones al programa:<ul>
<li><strong>Añadir</strong> (añadir un registro)</li>
<li><strong>Buscar</strong> (buscar entradas por nombre, dirección o teléfono)</li>
<li><strong>Listar</strong> (visualizar todo el archivo).</li>
<li><strong>Ordenar</strong> (ordenar los registros alfabéticamente).</li>
<li><strong>Borrar</strong> (borrar el archivo).</li>
</ul>
</li>
</ul>
<p><a name="AC110"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC110</strong>. (RA.7 // CE7a, CE7f y CE7i // 1-3p) Crea un shell script que sume los números del 1 al 1000 mediante una estructura <code>for</code>, <code>while</code> y <code>until</code>.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Escribe el código de los scripts en <strong>ShellScript</strong> que se detallan en cada ejercicio. Deberás crear un fichero de texto para cada ejercicio con el siguiente nombre: ejXXX.sh, donde las X representan el número de ejercicio. Una vez terminada la práctica, comprime todos estos ficheros en uno y súbelos al Moodle.</p>
</div>
<p><a name="AC111"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC111</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h y CE7i // 1-3p) Realiza un script utilizando funciones que permita crear un informe de las <strong>IP libres</strong> en la red en la que se encuentra el equipo. Debe contener las siguientes opciones:<ol>
<li>El informe contendrá un <strong>listado de todas las IP de la red</strong> a la que pertenece el equipo indicando si está libre o no (usa el comando ping).</li>
<li>En el informe debe aparecer el <strong>tipo de red</strong> (rango CIDR) en el que está inmerso el ordenador con el <strong>nombre de la red</strong>, su <strong>broadcast</strong> y su <strong>máscara de subred</strong>. Esta información la podéis obtener desde el comando ifconfig.</li>
</ol>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Para facilitar los cálculos asumimos que el equipo donde se ejecuta el script se encuentra en una única red, es decir, solo posee una tarjeta de red.</p>
</div>
<p><a name="AC112"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC112</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7f, CE7h y CE7i // 1-3p) Crea un script que rellene un <strong>vector</strong> con cien valores aleatorios y muestre en pantalla en una sola línea los valores generados.</li>
</ul>
<p><a name="AC113"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC113</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7f, CE7h y CE7i // 1-3p) Genera un script que rellene un <strong>vector</strong> con diez números pedidos al usuario y que los muestre por pantalla de la siguiente forma:<ol>
<li>en orden inverso a como han sido introducidos los valores</li>
<li>los valores ordenados de menor a mayor en una sola línea</li>
<li>los valores ordenados de mayor a menor en una sola línea</li>
<li>la suma total de sus valores</li>
<li>cantidad de valores pares que contiene el vector</li>
<li>la suma total de números impares</li>
<li>la media aritmética de los valores que contiene el vector</li>
</ol>
</li>
</ul>
<p><a name="AC114"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC114</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7f, CE7h y CE7i // 1-3p) Crea un script que muestre las opciones del ejercicio anterior con select. El usuario introducirá los valores del <strong>vector</strong> al iniciar el script. Cuando termine aparecerá el menú de selección (deberás añadir la opción para salir del script). Además deberás crear una <strong>función</strong> para cada opción del menú y llamarla en cada una de las opciones del select.</li>
</ul>
<p><a name="RETO_GRUPAL"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 2c-.9 0-2 1-2 2H8c0-1-1.1-2-2-2H2v9c0 1 1 2 2 2h2.2c.4 2 1.7 3.7 4.8 4v2.08C8 19.54 8 22 8 22h8s0-2.46-3-2.92V17c3.1-.3 4.4-2 4.8-4H20c1 0 2-1 2-2V2zM6 11H4V4h2zm14 0h-2V4h2z"/></svg></span> <strong>RG115</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h y CE7i // 30p). Trabajo en grupos de 2 personas para crear un sistema completo de gestión de servidores que integre todos los conceptos aprendidos durante la unidad.<ul>
<li><strong><a href="#retogrupalshellscript">RETO GRUPAL: Sistema de Gestión de Servidores</a></strong>.  </li>
<li><a href="#solucionretogrupalshellscript">Consulta aquí la solución detallada del reto grupal</a></li>
</ul>
</li>
<li><img alt="📋" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4cb.svg" title=":clipboard:" /> <strong>Rúbrica de Evaluación:</strong> Consulta los criterios de evaluación detallados en la <a href="#rubrica_evaluacion_retoshell">Rúbrica de Evaluación del Reto ShellScript</a>.</li>
</ul>
<p><a name="EXAMEN"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3 1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17z"/></svg></span> <strong><a href="#examenshellscript">EXAMEN: ShellScript (60 puntos)</a></strong>. Examen de evaluación completa que cubre todos los contenidos del tema de ShellScript.</li>
</ul>
<hr />
<!-- <a name="AC104"></a>

* :simple-readdotcv: **AC104**. (RA.7 // CE7b // 1-3p) Depura los ejercicios anteriores utilizando los argumentos `-x` y `-v`. --></section><section class="print-page" id="02powershell" heading-number="3"><h1 id="02powershell-powershell">PowerShell<a class="headerlink" href="#02powershell-powershell" title="Permanent link">&para;</a></h1>
<p>PowerShell es una interfaz de línea de comandos (CLI) y lenguaje de scripting desarrollado por Microsoft para automatizar tareas y administrar sistemas operativos Windows. Surgió ante las carencias que presenta el antiguo terminal basado en MS-DOS, ofreciendo una sintaxis moderna, orientada a objetos y potente para administradores de sistemas.</p>
<p>Estos scripts se ejecutan mediante el intérprete de PowerShell, permitiendo realizar desde la manipulación de archivos hasta la ejecución automática de programas complejos y administración de servicios del sistema operativo.</p>
<h2 id="02powershell-propuesta-didactica">Propuesta didáctica<a class="headerlink" href="#02powershell-propuesta-didactica" title="Permanent link">&para;</a></h2>
<p>En esta unidad vamos a continuar trabajando el <strong>RA7 de ASO</strong>:</p>
<blockquote>
<p><strong>RA7.</strong> <em>Utiliza lenguajes de guiones en sistemas operativos, describiendo su aplicación y administrando servicios del sistema operativo.</em></p>
</blockquote>
<h3 id="02powershell-criterios-de-evaluacion-ra7">Criterios de evaluación (RA7)<a class="headerlink" href="#02powershell-criterios-de-evaluacion-ra7" title="Permanent link">&para;</a></h3>
<p>A lo largo de la unidad se trabajarán y evidenciarán los siguientes criterios:</p>
<ul>
<li><strong>CE7a</strong>: Se han utilizado y combinado las estructuras del lenguaje para crear guiones.  </li>
<li><strong>CE7b</strong>: Se han utilizado herramientas para depurar errores sintácticos y de ejecución.  </li>
<li><strong>CE7c</strong>: Se han interpretado guiones de configuración del sistema operativo.  </li>
<li><strong>CE7d</strong>: Se han realizado cambios y adaptaciones de guiones del sistema.  </li>
<li><strong>CE7e</strong>: Se han creado y probado guiones de administración de servicios.  </li>
<li><strong>CE7f</strong>: Se han creado y probado guiones de automatización de tareas.  </li>
<li><strong>CE7g</strong>: Se han implantado guiones en <strong>sistemas propietarios</strong>.  </li>
<li><strong>CE7h</strong>: Se han consultado y utilizado librerías de funciones.  </li>
<li><strong>CE7i</strong>: Se han documentado los guiones creados.</li>
</ul>
<h2 id="02powershell-contenidos">Contenidos<a class="headerlink" href="#02powershell-contenidos" title="Permanent link">&para;</a></h2>
<p><strong>Bloque 1 — Fundamentos de PowerShell (Sesión 1–2)</strong>
- ¿Qué es PowerShell? Historia y características.<br />
- PowerShell ISE (Integrated Scripting Environment).<br />
- Creación y ejecución de scripts: extensión <code>.ps1</code>.<br />
- Comentarios y depuración de scripts.</p>
<p><strong>Bloque 2 — Elementos del lenguaje (Sesión 2–3)</strong>
- Parámetros y argumentos (array <code>$args[]</code>).<br />
- Variables: tipado implícito y explícito.<br />
- Entrada/salida con <code>Write-Host</code> y <code>Read-Host</code>.<br />
- Operadores: aritméticos, lógicos, de comparación y tipo.</p>
<p><strong>Bloque 3 — Control de flujo (Sesión 3–4)</strong>
- Estructuras condicionales: <code>if</code>, <code>elseif</code>, <code>else</code>, <code>switch</code>.<br />
- Bucles: <code>while</code>, <code>do-while</code>, <code>for</code>, <code>foreach</code>.<br />
- Opciones avanzadas de <code>switch</code>: <code>-wildcard</code>, <code>-regex</code>, <code>-casesensitive</code>.</p>
<p><strong>Bloque 4 — Estructuras y modularización (Sesión 4–5)</strong>
- Vectores (arrays) y operaciones con ellos.<br />
- Funciones, parámetros tipados y retorno.<br />
- Organización del código y módulos.</p>
<div class="admonition question">
<p class="admonition-title">Actividades iniciales</p>
<ol>
<li>Genera un Script que muestre los <strong>procesos del sistema</strong> ordenados por el <strong>id</strong>.</li>
<li>Muestra los servicios cuyo nombre empiece por la letra <code>n</code>, utilizando la creación de un script.</li>
<li>Crea un script que si no se le pasa ningún argumento nos lo diga.</li>
</ol>
</div>
<h3 id="02powershell-programacion-de-aula-8h">Programación de Aula (8h)<a class="headerlink" href="#02powershell-programacion-de-aula-8h" title="Permanent link">&para;</a></h3>
<p>Esta unidad se imparte en la primera evaluación, con una duración estimada de 6 sesiones lectivas:</p>
<h4 id="02powershell-sesiones-1-3-contenidos-fundamentales">Sesiones 1-3: Contenidos Fundamentales<a class="headerlink" href="#02powershell-sesiones-1-3-contenidos-fundamentales" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Sesión</th>
<th>Contenidos</th>
<th>Actividades</th>
<th>Criterios trabajados</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Introducción PowerShell, Creación Primer Script, Comentarios y depuración</td>
<td>AC201-AC202</td>
<td>CE7a, CE7b, CE7g y CE7i</td>
</tr>
<tr>
<td>2</td>
<td>Sintaxis, Argumentos, variables, interacción con usuario y operadores</td>
<td>AC203-AC205</td>
<td>CE7a, CE7b, CE7f y CE7i</td>
</tr>
<tr>
<td>3</td>
<td>Control de flujo: condicionales y bucles</td>
<td>AC206, AC207, AC208</td>
<td>CE7a, CE7f, CE7i</td>
</tr>
</tbody>
</table>
<h4 id="02powershell-sesiones-4-5-contenidos-avanzados">Sesiones 4-5: Contenidos Avanzados<a class="headerlink" href="#02powershell-sesiones-4-5-contenidos-avanzados" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Sesión</th>
<th>Contenidos</th>
<th>Actividades</th>
<th>Criterios trabajados</th>
</tr>
</thead>
<tbody>
<tr>
<td>4</td>
<td>Vectores y funciones</td>
<td>AC209-AC210</td>
<td>CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h, CE7i</td>
</tr>
<tr>
<td>5</td>
<td>Actividades de ampliación</td>
<td>AC211-AC212</td>
<td>CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h, CE7i</td>
</tr>
</tbody>
</table>
<h4 id="02powershell-sesiones-6-evaluacion-y-cierre">Sesiones 6: Evaluación y Cierre<a class="headerlink" href="#02powershell-sesiones-6-evaluacion-y-cierre" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Sesión</th>
<th>Contenidos</th>
<th>Actividades</th>
<th>Criterios trabajados</th>
</tr>
</thead>
<tbody>
<tr>
<td>6</td>
<td>Evaluación y actividades de ampliación</td>
<td>AC212-AC213</td>
<td>CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h, CE7i</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="02powershell-introduccion">Introducción<a class="headerlink" href="#02powershell-introduccion" title="Permanent link">&para;</a></h2>
<p>Los sistemas operativos basados en Microsoft Windows cuentan con la herramienta <strong>PowerShell</strong>, que surgió ante las carencias que presenta el viejo terminal basado en <strong>MS-DOS</strong>.</p>
<p><strong>PowerShell</strong> es una interfaz de consola (CLI) con posibilidad de escritura y unión de comandos por medio de instrucciones (scripts). Esta interfaz de consola está diseñada para su uso por parte de <strong>administradores de sistemas</strong>, con el propósito de automatizar tareas o realizarlas de forma más controlada.</p>
<p>En abril de 2006 Microsoft lanzó una nueva interfaz CLI, con una sintaxis moderna que comparte similitudes con el lenguaje Perl.
- <strong>Perl</strong> es un lenguaje de programación diseñado por Larry Wall en 1987. Perl toma características del lenguaje C, del lenguaje interpretado bourne shell, AWK, sed, Lisp y, en un grado inferior, de muchos otros lenguajes de programación.</p>
<p>Se trata de una interfaz gratuita, y que antes de Microsoft <strong>Windows 7</strong> no se incluía con el sistema operativo. En la actualidad, está incluida en todos los sistemas operativos de Microsoft, aunque requiere la presencia de <code>.NET</code> framework del que hereda sus características orientadas a objetos.</p>
<p>En agosto de 2016, Microsoft publicó su código en GitHub para que pueda portarse a otros sistemas como GNU/Linux y MAC OSX.</p>
<p>Los comandos incluidos en PowerShell reciben el nombre de <strong>cmdlets (command-let)</strong> y posee conjuntos específicos para trabajar con <em>Active Directory, Exchange</em>, entre otros roles de servidor.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p><strong>cmdlets</strong> Existen cientos de cmdlets en la <em>versión 5.1</em> de PowerShell. Es posible consultar la ayuda de cada uno de ellos en la página oficial de Microsoft.</p>
</div>
<p>Otra ventaja de PowerShell es que se dispone de la mayoría de comandos que del CLI tradicional de Microsoft. De ese modo, es posible ejecutar el comando <code>dir</code> en lugar del <code>Get-ChildItem</code>, cmdlet que realiza la misma tarea. En realidad lo que está usando es un alias del segundo para lanzar el primero.</p>
<p>Dispone de autocompletado de comandos y parámetros que facilitará las tareas de creación de scripts. Basta con comenzar a escribir un cmdlet y pulsar la tecla Tab. </p>
<p>Si utilizamos <strong>PowerShell ISE</strong> al escribir aparecerá una ventana con todos los cmdlets que coincidan con el texto escrito, incluso puede aparecer un recuadro con ayuda sobre su sintaxis. Para aceptar la sugerencia se pulsa la tecla Intro.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Los nombres de todos los cmdlets están formados por un verbo, un guión y un nombre en singular. Habitualmente, se escribe con mayúsculas la primera letra de cada palabra, pero no se trata más que de una norma de estilo, porque <strong>PowerShell no distingue entre mayúsculas y minúsculas.</strong></p>
</div>
<h2 id="02powershell-primer-script">Primer Script<a class="headerlink" href="#02powershell-primer-script" title="Permanent link">&para;</a></h2>
<p>Al igual que ocurre en GNU/Linux un script de PowerShell no es más que un archivo de texto plano que contiene una secuencia de comando y de <strong>cmdlets</strong> para realizar una tarea. La diferencia con ellos es que aquí será necesario dotarlos de una extensión; <code>ps1</code>.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nb">Write-Host</span> <span class="s2">&quot;Hola!. Esto es mi primer script en PowerShell&quot;</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">Write-Host</span> <span class="s2">&quot;Y esto es una segunda línea&quot;</span>
</code></pre></div>
</div>
<p>A continuación, se guarda el script desde el menú <code>Acción → Guardar Como…</code> asignándole un nombre.</p>
<p>Para ejecutarlo tan sólo es necesario escribir su nombre en el terminal de PowerShell anteponiendo un punto y una barra.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="p">./</span><span class="n">Script</span><span class="p">.</span><span class="n">ps1</span>
</code></pre></div>
</div>
<p>Aunque también es posible ejecutar el script desde la <strong>herramienta gráfica</strong> pulsando la tecla <code>F5</code>, ejecutar una parte de él con <code>F8</code> o detener la ejecución con <code>Ctrl+Intro</code>.</p>
<h2 id="02powershell-powershell-ise">PowerShell ISE<a class="headerlink" href="#02powershell-powershell-ise" title="Permanent link">&para;</a></h2>
<p>PowerShell viene acompañado de una <strong>herramienta gráfica</strong> que facilita la administración de todos los scripts. Se denomina Microsoft <strong>PowerShell ISE (Integrated Scripting Environment)</strong>, y se accede a través de: <code>Administrador del servidor → Herramientas → Windows PowerShell ISE</code>.</p>
<p>El uso de esta herramienta gráfica va a facilitar la creación de los scripts de forma significativa. Es práctico comenzar con esta ayuda ya que la sintaxis de los cmdlets, aunque sea lógica y sencilla, también lo es amplia y desconocida.</p>
<figure>
  <img src="imagenes/02/InterfazPowerShell.png" width="800"/>
  <figcaption>Interfaz de la herramienta Windows PowerShell ISE</figcaption>
</figure>

<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li>Uno de los aspectos más interesantes que posee esta aplicación es la barra de información que muestra un listado de todos los <strong>cmdlets</strong> de esta herramienta. Permite filtrarlos por función y consultar la ayuda de cada uno de ellos.</li>
<li>También posee un formulario destinado a generar el código de un <strong>cmdlet</strong> de forma automática.</li>
</ul>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<ul>
<li>Creación de un comando que realice una copia de seguridad de los scripts de trabajo en una memoria externa. Es necesario el uso de Copy-Item para ello, pero no se conoce su sintaxis.</li>
<li>Si escribimos este <strong>cmdlet</strong> en el recuadro <code>Nombre</code> y se pulsa sobre <code>Mostrar Ayuda</code>, aparecerá un formulario con sus opciones. Tras completar las necesarias y pulsando el botón <code>Insertar</code> situado en la parte inferior, el código completo será escrito la parte destinada al terminal.</li>
</ul>
</div>
<figure>
  <img src="imagenes/02/PS_ISE_EJEM.png" width="800"/>
  <figcaption>Creación automática de scripts en Windows PowerShell ISE.</figcaption>
</figure>

<h2 id="02powershell-comentarios">Comentarios<a class="headerlink" href="#02powershell-comentarios" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Los comentarios en <strong>PowerShell</strong> se realizan precediendo a la línea con el carácter <code>#</code> si se trata de una sola línea y <code>&lt;#</code> y <code>#&gt;</code> si es multilínea.</p>
</div>
<h2 id="02powershell-depuracion">Depuración<a class="headerlink" href="#02powershell-depuracion" title="Permanent link">&para;</a></h2>
<p>La depuración es el proceso de examinar un script mientras se ejecuta para identificar y corregir errores en las instrucciones del script. El depurador de PowerShell puede ayudarle a examinar e identificar errores e ineficiencias en los scripts, funciones, comandos, configuraciones o expresiones de PowerShell Desired State Configuration (DSC).</p>
<p>El depurador de PowerShell incluye el siguiente conjunto de cmdlets:</p>
<ul>
<li><strong>Set-PSBreakpoint</strong>: establece puntos de interrupción en líneas, variables y comandos.</li>
<li><strong>Get-PSBreakpoint</strong>: obtiene puntos de interrupción en la sesión actual.</li>
<li><strong>Disable-PSBreakpoint</strong>: desactiva los puntos de interrupción en la sesión actual.</li>
<li><strong>Enable-PSBreakpoint</strong>: vuelve a habilitar los puntos de interrupción en la sesión actual.</li>
<li><strong>Remove-PSBreakpoint</strong>: elimina puntos de interrupción de la sesión actual.</li>
<li><strong>Get-PSCallStack</strong>: muestra la pila de llamadas actual.</li>
</ul>
<hr />
<h2 id="02powershell-sintaxis">Sintaxis<a class="headerlink" href="#02powershell-sintaxis" title="Permanent link">&para;</a></h2>
<h3 id="02powershell-parametros-en-powershell">Parámetros en PowerShell<a class="headerlink" href="#02powershell-parametros-en-powershell" title="Permanent link">&para;</a></h3>
<p>A diferencia de GNU/Linux, los parámetros que reciba el script en PowerShell se reciben en el array <strong>args</strong>. Cada posición del array <code>args[]</code> guarda los parámetros introducidos al script en el orden indicado. Por lo tanto para acceder a los parámetros introducidos se debe acceder al valor de la posición que se desee.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="no">[string]</span><span class="nv">$param1</span><span class="p">=</span> <span class="nv">$args</span><span class="p">[</span><span class="n">0</span><span class="p">]</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">Write-Host</span> <span class="s2">&quot;Hola!. Esto es mi primer script en PowerShell&quot;</span>
<span class="linenos" data-linenos="3 "></span><span class="nb">Write-Host</span> <span class="s2">&quot;Y esto es una segunda línea&quot;</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">Write-Host</span> <span class="s2">&quot;El primer parámetro introducido es $param1&quot;</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>El script anterior esperará un parámetro de tipo <code>string</code> que será contenido en la variable $param1.</li>
<li>En la cuarta línea mostrará el contenido de la variable por pantalla.</li>
</ul>
</div>
<p>Para poder ejecutar este script, será necesario acompañarlo de un parámetro del siguiente modo.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="p">./</span><span class="n">Script</span><span class="p">.</span><span class="n">ps1</span> <span class="s2">&quot;Fº Javier Hernández Illán&quot;</span>
</code></pre></div>
<p>Para entender por completo el ejemplo anterior, será necesario ver como PowerShell maneja las <strong>variables</strong>.</p>
<h3 id="02powershell-variables">Variables<a class="headerlink" href="#02powershell-variables" title="Permanent link">&para;</a></h3>
<p>Para definir una variable en PowerShell sólo tenemos que nombrarla utilizando para ello cualquier combinación de caracteres, ya sean números, letras o símbolos. Es posible utilizar espacios en el nombre, aunque en este caso el nombre debe ir rodeado por símbolos de llaves <strong>{}</strong>.</p>
<p>Al contrario que ocurre en shellscript, PowerShell es <strong>fuertemente tipado</strong>, lo que significa que las variables no son tratadas como cadenas de texto, sino que hay que especificar el tipo de dato que se guardará en ella.</p>
<p>Para definir variables es posible utilizar el método <strong>explícito</strong> (además con <strong>New-Variable</strong> y sus opciones), pero también se puede utilizar el método <strong>implícito</strong> anteponiendo el símbolo <strong>$</strong> delante del nombre.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p><strong>Get-Variable</strong> En cualquier momento puedes obtener una lista completa de las variables que se hayan definido hasta ese momento. Para lograrlo, basta con utilizar Get-Variable.</p>
</div>
<h3 id="02powershell-tipado-implicito">Tipado Implícito<a class="headerlink" href="#02powershell-tipado-implicito" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Tipo</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[string]</code></td>
<td>Cadena de caracteres Unicode</td>
</tr>
<tr>
<td><code>[char]</code></td>
<td>Un sólo carácter Unicode de 16 bits</td>
</tr>
<tr>
<td><code>[byte]</code></td>
<td>Un sólo carácter Unicode de 8 bits</td>
</tr>
<tr>
<td><code>[int]</code></td>
<td>Entero con signo de 32 bits</td>
</tr>
<tr>
<td><code>[float]</code></td>
<td>Número con coma flotante de 32 bits</td>
</tr>
<tr>
<td><code>[double]</code></td>
<td>Número con coma flotante de 64 bits</td>
</tr>
<tr>
<td><code>[datetime]</code></td>
<td>Fecha y Hora</td>
</tr>
<tr>
<td><code>[bool]</code></td>
<td>Valor lógico booleano</td>
</tr>
</tbody>
</table>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nv">$numero</span> <span class="p">=</span> <span class="n">9</span><span class="p">.</span><span class="n">99</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$Final_2021</span> <span class="p">=</span> <span class="n">30</span>
<span class="linenos" data-linenos="3 "></span><span class="p">${</span><span class="nb">Mi </span><span class="n">variable</span><span class="p">}</span> <span class="p">=</span> <span class="s2">&quot;Contiene espacios en el nombre&quot;</span>
</code></pre></div>
</div>
<p>En la forma implícita el shell establece el tipo de dato de la variable en función del dato que se le asigne en su creación. En el ejemplo anterior <code>$numero</code> es de forma automática de tipo <code>[double]</code>, ya que al crearla se ha inicializado con un número con decimales. Por contra la variable <code>$Final_2021</code> es de tipo <code>[int]</code> ya que se ha guardado un número entero en ella.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li><strong>GetType</strong> Para poder obtener el tipo de dato  de una variable hay que usar el método <code>GetType().Name</code> sobre cualquier variable:</li>
<li><code>Write-Host $numero.GetType().Name</code></li>
</ul>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul>
<li>Una variable cuya definición de tipo se ha realizado de forma implícita, podrá cambiar el tipo de dato almacenado durante la ejecución del programa sin experimentar ningún tipo de error. </li>
<li>Esta práctica aunque cómoda <strong>no es muy recomendable</strong>.</li>
</ul>
</div>
<h3 id="02powershell-tipado-explicito">Tipado Explícito<a class="headerlink" href="#02powershell-tipado-explicito" title="Permanent link">&para;</a></h3>
<p>Es buena idea tomar el control del tipado de las variables y asignarlo en función de las necesidades del programa. De esta forma se ahorrarán futuras conversiones de datos y posibles pérdidas de información. Para ello se usa la forma explícita de crear variables y junto con su creación se define el tipo de dato que va a contener.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="no">[float]</span> <span class="nv">$numero</span> <span class="p">=</span> <span class="n">9</span><span class="p">.</span><span class="n">99</span>
<span class="linenos" data-linenos="2 "></span><span class="no">[int]</span> <span class="nv">$Final_2021</span> <span class="p">=</span> <span class="n">30</span>
<span class="linenos" data-linenos="3 "></span><span class="no">[string]</span> <span class="p">${</span><span class="nb">Mi </span><span class="n">variable</span><span class="p">}</span> <span class="p">=</span> <span class="s2">&quot;Contiene espacios en el nombre&quot;</span>
</code></pre></div>
</div>
<p>Al contrario que en el caso anterior, cuando el dato asignado no coincida con el tipo esperado, pueden ocurrir dos cosas:</p>
<ol>
<li>Se modifiquen las características del dato para amoldarse al tipo de variable, lo que puede traducirse en la pérdida de datos y un mal funcionamiento del script,</li>
<li>Se produzca un error si esa conversión no es posible y se detenga el script.</li>
</ol>
<h2 id="02powershell-interaccion-con-el-usuario">Interacción con el usuario<a class="headerlink" href="#02powershell-interaccion-con-el-usuario" title="Permanent link">&para;</a></h2>
<p>PowerShell posee dos cmdlets para realizar estas tareas:</p>
<ol>
<li>El primero de ellos es <strong>Write-Host</strong> y tiene un comportamiento similar al <strong>echo</strong> en GNU/Linux.</li>
<li>El segundo comando para interactuar con el usuario es <strong>Read-Host</strong> el cual permite imprimir un mensaje por el terminal y recoger aquello que el usuario ha escrito. Funciona de forma muy parecida al comando <strong>read</strong> en el terminal de GNU/Linux.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="no">[string]</span> <span class="nv">$marine</span> <span class="p">=</span> <span class="nb">Read-Host</span> <span class="s2">&quot;¿Cuál es el nombre del marine de Doom?&quot;</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">Write-Host</span> <span class="s2">&quot;No se sabe, pero lo has intentado con $marine&quot;</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Este script detendrá su ejecución en la línea donde aparece <strong>Read-Host</strong>, esperará a que el usuario conteste a la pregunta y seguirá con la ejecución, del mismo modo que ocurre con shellscript.</p>
</div>
<h2 id="02powershell-operadores">Operadores<a class="headerlink" href="#02powershell-operadores" title="Permanent link">&para;</a></h2>
<h3 id="02powershell-aritmeticos">Aritméticos<a class="headerlink" href="#02powershell-aritmeticos" title="Permanent link">&para;</a></h3>
<p>Las operaciones aritméticas en PowerShell son más intuitivas que en shellscript. Son las mismas que en el caso anterior: <code>+</code>, <code>-</code>, <code>*</code> , <code>/</code> y <code>%</code>. Su uso es más sencillo puesto que es el propio terminal en que realiza los cálculos aritméticos y no a través de un comando.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="no">[int]</span> <span class="nv">$a</span><span class="p">=</span><span class="n">10</span>
<span class="linenos" data-linenos="2 "></span><span class="no">[float]</span> <span class="nv">$b</span><span class="p">=</span><span class="n">20</span>
<span class="linenos" data-linenos="3 "></span><span class="no">[int]</span> <span class="nv">$res</span><span class="p">=</span><span class="nv">$a</span><span class="p">+</span><span class="nv">$b</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">Write-Host</span> <span class="nv">$res</span>
<span class="linenos" data-linenos="5 "></span><span class="nb">Write-Host</span> <span class="nv">$a</span><span class="p">+</span><span class="nv">$b</span>
<span class="linenos" data-linenos="6 "></span><span class="nb">Write-Host</span> <span class="s2">&quot;$a x $b = &quot;</span> <span class="p">(</span><span class="nv">$a</span><span class="p">*</span><span class="nv">$b</span><span class="p">)</span>
</code></pre></div>
<p>También se dispone de expansores de terminal como en GNU/Linux.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Nótese que en la última línea aparece directamente el producto <strong>$a*$b</strong> ya que al rodear la operación con paréntesis, se convierte en un expansor, realiza la operación en su interior y envía el resultado fuera.</p>
</div>
<p>Existen variantes que simplifican el uso de algunos operadores.</p>
<table>
<thead>
<tr>
<th>Operador</th>
<th>Uso</th>
<th>Equivalencia</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+=</code></td>
<td>$contador += 5</td>
<td>$contador = $contador+5</td>
</tr>
<tr>
<td><code>-=</code></td>
<td>$contador -= 5</td>
<td>$contador = $contador-5</td>
</tr>
<tr>
<td><code>*=</code></td>
<td>$contador *= 5</td>
<td>$contador = $contador*5</td>
</tr>
<tr>
<td><code>/=</code></td>
<td>$contador /= 5</td>
<td>$contador = $contador/5</td>
</tr>
</tbody>
</table>
<p>Además de estos operadores existen dos específicos para el incremento (<code>++</code>) y decremento (<code>--</code>) de una unidad, ideal para el uso de variables como contadores.</p>
<h3 id="02powershell-logicos">Lógicos<a class="headerlink" href="#02powershell-logicos" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Operador</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-and</code></td>
<td>Devuelve verdadero si las dos expresiones son verdaderas.</td>
</tr>
<tr>
<td><code>-or</code></td>
<td>Devuelve verdadero si una de las dos expresiones o las dos son verdaderas.</td>
</tr>
<tr>
<td><code>-xor</code></td>
<td>Devuelve verdadero si tan sólo una de las expresiones es verdadera.</td>
</tr>
<tr>
<td><code>-not o !</code></td>
<td>Devuelve verdadero cuando la expresión da el valor falso.</td>
</tr>
</tbody>
</table>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nb">Write-Host</span> <span class="p">((</span><span class="n">6</span> <span class="o">-ge</span> <span class="n">4</span><span class="p">)</span> <span class="o">-and</span> <span class="p">(</span><span class="n">7</span> <span class="o">-le</span> <span class="n">7</span><span class="p">))</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">Write-Host</span> <span class="p">((</span><span class="n">10</span> <span class="o">-gt</span> <span class="n">1</span><span class="p">)</span> <span class="o">-or</span> <span class="p">(</span><span class="n">2</span> <span class="o">-lt</span> <span class="n">2</span><span class="p">))</span>
<span class="linenos" data-linenos="3 "></span><span class="nb">Write-Host</span> <span class="p">((</span><span class="n">1</span> <span class="o">-gt</span> <span class="n">0</span><span class="p">)</span> <span class="n">-xor</span> <span class="p">(</span><span class="n">4</span> <span class="o">-le</span> <span class="n">1</span><span class="p">))</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">Write-Host</span> <span class="p">(</span> <span class="o">-not</span> <span class="p">(</span><span class="n">12</span> <span class="o">-lt</span> <span class="n">10</span><span class="p">))</span>
<span class="linenos" data-linenos="5 "></span><span class="nb">Write-Host</span> <span class="p">(!(</span><span class="n">12</span> <span class="o">-lt</span> <span class="n">10</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>En el ejemplo anterior si se ejecuta el script en un terminal PowerShell, todos los resultados serán verdaderos.</p>
</div>
<p>Como en todos los lenguajes de programación fuertemente tipados, existen operadores lógicos para comprobar el tipo de dato de una variable, que resultan muy útiles para la interacción con los usuarios.</p>
<table>
<thead>
<tr>
<th>Operador</th>
<th>Acción</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-is</code></td>
<td>Devuelve verdadero si es del tipo indicado.</td>
<td><code>"Javi" -is [string]</code> es verdadero</td>
</tr>
<tr>
<td><code>-isnot</code></td>
<td>Devuelve falso si es del tipo indicado.</td>
<td><code>"Javi" -isnot [string]</code> es falso</td>
</tr>
<tr>
<td><code>-as</code></td>
<td>Convierte tipos de datos compatibles.</td>
<td><code>$valor = 19.90</code>; <code>Write-Host ($valor -as [int])</code></td>
</tr>
</tbody>
</table>
<h3 id="02powershell-comparacion">Comparación<a class="headerlink" href="#02powershell-comparacion" title="Permanent link">&para;</a></h3>
<p>Los operadores de comparación devuelven tan sólo un valor booleano que puede tener dos valores; <strong>verdadero o falso</strong>.</p>
<table>
<thead>
<tr>
<th>Operador</th>
<th>Acción</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-eq</code></td>
<td>Comprueba si son iguales.</td>
<td><code>5 -eq 3</code> es falso</td>
</tr>
<tr>
<td><code>-ieq</code></td>
<td>Iguales. En cadenas no es casesensitive.</td>
<td><code>"Javi" -ieq "javi"</code> es verdadero</td>
</tr>
<tr>
<td><code>-ceq</code></td>
<td>Iguales. En cadenas es casesensitive.</td>
<td><code>"Javi" -ceq "javi"</code> es falso</td>
</tr>
<tr>
<td><code>-ne</code></td>
<td>Verifica si son diferentes.</td>
<td><code>5 -ne 3</code> es verdadero</td>
</tr>
<tr>
<td><code>-lt</code></td>
<td>Coteja si la izquierda es menor que derecha.</td>
<td><code>5 -lt 3</code> es falso</td>
</tr>
<tr>
<td><code>-le</code></td>
<td>Constata si la izquierda es menor o igual que derecha.</td>
<td><code>5 -le 3</code> es falso</td>
</tr>
<tr>
<td><code>-gt</code></td>
<td>Examina si la izquierda en mayor que la derecha.</td>
<td><code>5 -gt 3</code> es verdadero</td>
</tr>
<tr>
<td><code>-ge</code></td>
<td>Revisa si la izquierda en mayor o igual que la derecha.</td>
<td><code>5 -ge 3</code> es verdadero</td>
</tr>
</tbody>
</table>
<p><strong>PowerShell</strong> añade operadores de comparación que aportan un nivel de complejidad mayor.</p>
<table>
<thead>
<tr>
<th>Operador</th>
<th>Acción</th>
<th>Ejemplo</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-like</code></td>
<td>Evalúa un patrón "es como".</td>
<td><code>"Perro" -like "Pe*"</code> es verdadero</td>
</tr>
<tr>
<td><code>-notlike</code></td>
<td>Evalúa un patrón "no es como".</td>
<td><code>"Perro" -notlike "Pe*"</code> es falso</td>
</tr>
<tr>
<td><code>-contains</code></td>
<td>Contiene un valor.</td>
<td><code>1,2,3 -contains 2</code> es verdadero</td>
</tr>
<tr>
<td><code>-notcontains</code></td>
<td>No contiene un valor.</td>
<td><code>1,2,3 -notcontains 2</code>es falso</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="02powershell-control-del-flujo-en-powershell">Control del flujo en PowerShell<a class="headerlink" href="#02powershell-control-del-flujo-en-powershell" title="Permanent link">&para;</a></h2>
<p>En esta parte se indicará tan sólo la sintaxis de las estructuras alternativas e iterativas, ya que los conceptos teóricos ya se han abordado en el apartado de Shellscript.</p>
<h3 id="02powershell-estructuras-alternativas">Estructuras alternativas<a class="headerlink" href="#02powershell-estructuras-alternativas" title="Permanent link">&para;</a></h3>
<h4 id="02powershell-alternativa-simple">Alternativa Simple<a class="headerlink" href="#02powershell-alternativa-simple" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>    <span class="k">if</span> <span class="p">(</span> <span class="n">condición</span> <span class="p">){</span>
<span class="linenos" data-linenos="2 "></span>        <span class="n">ejecutar</span> <span class="n">este</span> <span class="n">código</span> <span class="nb">si </span><span class="n">la</span> <span class="n">condición</span> <span class="n">es</span> <span class="n">verdadera</span>
<span class="linenos" data-linenos="3 "></span>    <span class="p">}</span>
</code></pre></div>
<h4 id="02powershell-alternativa-doble">Alternativa doble<a class="headerlink" href="#02powershell-alternativa-doble" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>    <span class="k">if</span> <span class="p">(</span> <span class="n">condición</span> <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="2 "></span>        <span class="n">ejecutar</span> <span class="n">este</span> <span class="n">código</span> <span class="nb">si </span><span class="n">la</span> <span class="n">condición</span> <span class="n">es</span> <span class="n">verdadera</span>
<span class="linenos" data-linenos="3 "></span>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="linenos" data-linenos="4 "></span>        <span class="n">ejecutar</span> <span class="n">este</span> <span class="n">código</span> <span class="nb">si </span><span class="n">la</span> <span class="n">condición</span> <span class="n">es</span> <span class="n">falsa</span>
<span class="linenos" data-linenos="5 "></span>    <span class="p">}</span>
</code></pre></div>
<h4 id="02powershell-alternativa-multiple">Alternativa múltiple<a class="headerlink" href="#02powershell-alternativa-multiple" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>    <span class="k">if</span> <span class="p">(</span> <span class="n">condición1</span> <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="2 "></span>        <span class="n">ejecutar</span> <span class="n">este</span> <span class="n">código</span> <span class="nb">si </span><span class="n">la</span> <span class="n">condición1</span> <span class="n">es</span> <span class="n">verdadera</span>
<span class="linenos" data-linenos="3 "></span>    <span class="p">}</span> <span class="k">elseif</span> <span class="p">(</span> <span class="n">condición2</span> <span class="p">)</span> <span class="p">{</span>
<span class="linenos" data-linenos="4 "></span>        <span class="n">ejecutar</span> <span class="n">este</span> <span class="n">código</span> <span class="nb">si </span><span class="n">la</span> <span class="n">condición2</span> <span class="n">es</span> <span class="n">verdadera</span>
<span class="linenos" data-linenos="5 "></span>    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
<span class="linenos" data-linenos="6 "></span>        <span class="n">ejecutar</span> <span class="n">este</span> <span class="n">código</span> <span class="nb">si </span><span class="n">todas</span> <span class="n">las</span> <span class="n">condiciones</span> <span class="n">son</span> <span class="n">falsas</span>
<span class="linenos" data-linenos="7 "></span>    <span class="p">}</span>
</code></pre></div>
<h3 id="02powershell-el-equivalente-a-case-en-gnulinux">El equivalente a case en GNU/Linux<a class="headerlink" href="#02powershell-el-equivalente-a-case-en-gnulinux" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>    <span class="k">switch</span> <span class="p">(</span><span class="nv">$valor</span><span class="p">){</span>
<span class="linenos" data-linenos="2 "></span>        <span class="n">opción1</span> <span class="p">{</span> <span class="n">código</span> <span class="n">a</span> <span class="n">ejecutar</span> <span class="nb">si </span><span class="n">opción1</span> <span class="n">coincide</span> <span class="n">con</span> <span class="nv">$valor</span> <span class="p">}</span>
<span class="linenos" data-linenos="3 "></span>        <span class="n">opción2</span> <span class="p">{</span> <span class="n">código</span> <span class="n">a</span> <span class="n">ejecutar</span> <span class="nb">si </span><span class="n">opción2</span> <span class="n">coincide</span> <span class="n">con</span> <span class="nv">$valor</span> <span class="p">}</span>
<span class="linenos" data-linenos="4 "></span>        <span class="n">opciónN</span> <span class="p">{</span> <span class="n">código</span> <span class="n">a</span> <span class="n">ejecutar</span> <span class="nb">si </span><span class="n">opciónN</span> <span class="n">coincide</span> <span class="n">con</span> <span class="nv">$valor</span> <span class="p">}</span>
<span class="linenos" data-linenos="5 "></span>        <span class="k">default</span> <span class="p">{</span> <span class="n">código</span> <span class="n">a</span> <span class="n">ejecutar</span> <span class="nb">si </span><span class="n">ninguna</span> <span class="n">de</span> <span class="n">las</span> <span class="n">opciones</span> <span class="n">coincide</span> <span class="p">}</span>
<span class="linenos" data-linenos="6 "></span>    <span class="p">}</span>
</code></pre></div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>    <span class="nv">$saludo</span> <span class="p">=</span> <span class="nb">Read-Host</span> <span class="s2">&quot;Escribe un saludo&quot;</span>
<span class="linenos" data-linenos=" 2 "></span>    <span class="k">switch</span> <span class="p">(</span><span class="nv">$saludo</span><span class="p">){</span>
<span class="linenos" data-linenos=" 3 "></span>        <span class="s2">&quot;Buenos días&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Saludaste en Castellano&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 4 "></span>        <span class="s2">&quot;Bon dia&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Saludaste en Catalán&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 5 "></span>        <span class="s2">&quot;Bo dias&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Saludaste en Gallego&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 6 "></span>        <span class="s2">&quot;Egun on&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Saludaste en Euskera&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 7 "></span>        <span class="s2">&quot;Good morning&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Saludaste en Inglés&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 8 "></span>        <span class="s2">&quot;Bonjour&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Saludaste en Francés&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos=" 9 "></span>        <span class="s2">&quot;Buon Giorno&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Saludaste en Italiano&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos="10 "></span>        <span class="s2">&quot;Bom día&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Saludaste en Portugués&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos="11 "></span>        <span class="s2">&quot;Guten Tag&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Saludaste en Alemán&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos="12 "></span>        <span class="p">{</span><span class="nv">$_</span> <span class="o">-is</span> <span class="no">[string]</span><span class="p">}</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;La variable que has pasado es una cadena&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos="13 "></span>        <span class="k">default</span> <span class="p">{</span> <span class="s2">&quot;Eso no parece un saludo&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos="14 "></span>    <span class="p">}</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>Existe la posibilidad de colocar operadores lógicos como opciones de un <code>switch</code>, si estos operadores lógicos devuelven un valor verdadero, se ejecutará esa parte del código, si se evalúa a falso, no realizará esa parte del código. </li>
<li>El carácter $_ hace referencia a la variable $saludo, de ese modo es posible realizar operaciones lógicas con el valor pasado.</li>
</ul>
</div>
<p>Además de todo esto, <code>switch</code> posee una serie de opciones que no están presentes en GNU/Linux, aunque es posible realizarlas de otra manera.</p>
<table>
<thead>
<tr>
<th>Operador</th>
<th>Descripción</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-wildcard</code></td>
<td>Sólo aplicable a <code>[string]</code>. Indica si cumple un patrón determinado.</td>
</tr>
<tr>
<td><code>-exact</code></td>
<td>Sólo aplicable a <code>[string]</code>. Debe coincidir exactamente con alguno de los patrones.</td>
</tr>
<tr>
<td><code>-casesensitive</code></td>
<td>Sólo aplicable a <code>[string]</code>. Debe coincidir en mayúsculas y minúsculas.</td>
</tr>
<tr>
<td><code>-file</code></td>
<td>La entrada es un archivo. Se evaluará cada línea del archivo.</td>
</tr>
<tr>
<td><code>-regex</code></td>
<td>Sólo aplicable a <code>[string]</code>. Permite usar expresiones regulares en la comparación.</td>
</tr>
</tbody>
</table>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><code>-regex</code>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nv">$target</span> <span class="p">=</span> <span class="s1">&#39;https://bing.com&#39;</span>
<span class="linenos" data-linenos="2 "></span><span class="k">switch</span> <span class="o">-Regex</span> <span class="p">(</span><span class="nv">$target</span><span class="p">){</span>
<span class="linenos" data-linenos="3 "></span>    <span class="s1">&#39;^ftp\://.*$&#39;</span> <span class="p">{</span> <span class="s2">&quot;$_ is an ftp address&quot;</span><span class="p">;</span> <span class="k">Break</span> <span class="p">}</span>
<span class="linenos" data-linenos="4 "></span>    <span class="s1">&#39;^\w+@\w+\.com|edu|org$&#39;</span> <span class="p">{</span> <span class="s2">&quot;$_ is an email address&quot;</span><span class="p">;</span> <span class="k">Break</span> <span class="p">}</span>
<span class="linenos" data-linenos="5 "></span>    <span class="s1">&#39;^(http[s]?)\://.*$&#39;</span> <span class="p">{</span> <span class="s2">&quot;$_ is a web address that uses </span><span class="p">$(</span><span class="nv">$matches</span><span class="p">[</span><span class="n">1</span><span class="p">])</span><span class="s2">&quot;</span><span class="p">;</span> <span class="k">Break</span> <span class="p">}</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span>
</code></pre></div></p>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p><code>-wildcard</code>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">switch</span> <span class="o">-wildcard</span> <span class="p">(</span> <span class="nb">Read-Host</span> <span class="s2">&quot;Escribe un número de teléfono&quot;</span> <span class="p">){</span>
<span class="linenos" data-linenos="2 "></span>    <span class="s2">&quot;8*&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Es un teléfono fijo: $_&quot;</span><span class="p">;</span> <span class="k">break</span> <span class="p">}</span>
<span class="linenos" data-linenos="3 "></span>    <span class="s2">&quot;9*&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Es un teléfono fijo: $_&quot;</span><span class="p">;</span> <span class="k">break</span> <span class="p">}</span>
<span class="linenos" data-linenos="4 "></span>    <span class="s2">&quot;6*&quot;</span> <span class="p">{</span> <span class="nb">Write-Host</span> <span class="s2">&quot;Es un teléfono móvil: $_&quot;</span><span class="p">;</span> <span class="k">break</span> <span class="p">}</span>
<span class="linenos" data-linenos="5 "></span>    <span class="k">default</span> <span class="p">{</span> <span class="s2">&quot;$_ no parece un teléfono&quot;</span> <span class="p">}</span>
<span class="linenos" data-linenos="6 "></span><span class="p">}</span>
</code></pre></div></p>
</div>
<ul>
<li>El comando break que aparece al final de cada opción indica que si encuentra una coincidencia no siga buscando más y rompa el switch, ahorrándose así el resto de comprobaciones.</li>
</ul>
<h3 id="02powershell-estructuras-iterativas">Estructuras iterativas<a class="headerlink" href="#02powershell-estructuras-iterativas" title="Permanent link">&para;</a></h3>
<h4 id="02powershell-while">while<a class="headerlink" href="#02powershell-while" title="Permanent link">&para;</a></h4>
<p>A diferencia de lo que ocurría en GNU/Linux, en PowerShell existen diferencias entre las estructuras <strong>while, do while</strong> y <strong>do until</strong>. En este caso, la única de las tres que evaluará la condición al inicio del bloque de código será la primera. El resto comprueba la condición al final del bloque ejecutando como mínimo una vez el código que contiene.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">while</span> <span class="p">(</span> <span class="n">condición</span> <span class="p">){</span>
<span class="linenos" data-linenos="2 "></span>    <span class="n">bloque</span> <span class="n">de</span> <span class="n">código</span> <span class="n">a</span> <span class="n">ejecutar</span> <span class="n">mientras</span> <span class="n">condición</span> <span class="n">sea</span> <span class="n">verdadera</span>
<span class="linenos" data-linenos="3 "></span><span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">do</span> <span class="p">{</span>
<span class="linenos" data-linenos="2 "></span>    <span class="n">bloque</span> <span class="n">de</span> <span class="n">código</span> <span class="n">a</span> <span class="n">ejecutar</span> <span class="n">mientras</span> <span class="n">condición</span> <span class="n">sea</span> <span class="n">verdadera</span>
<span class="linenos" data-linenos="3 "></span><span class="p">}</span> <span class="k">while</span> <span class="p">(</span> <span class="n">condición</span> <span class="p">)</span>
</code></pre></div>
<p>Existe una variante de esta estructura que se crea sustituyendo el <strong>while por un until</strong>. Esto cambia el sentido de la condición y es este caso el bloque se repite hasta que la condición se cumpla. Esta estructura no es muy utilizada, pero siempre es bueno contar con herramientas extra.</p>
<h4 id="02powershell-for">for<a class="headerlink" href="#02powershell-for" title="Permanent link">&para;</a></h4>
<p>También la estructura <code>for</code> es sensiblemente diferente que en shellscript. Esta estructura en PowerShell tiene más que ver con los lenguajes de programación y se utiliza cuando el programador sabe el número de iteraciones que hay que realizar para solucionar un problema.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">for</span> <span class="p">(</span> <span class="n">inicialización</span><span class="p">;</span> <span class="n">condición</span><span class="p">;</span> <span class="n">incremento</span> <span class="p">){</span>
<span class="linenos" data-linenos="2 "></span>    <span class="n">bloque</span> <span class="n">de</span> <span class="n">código</span> <span class="n">a</span> <span class="n">ejecutar</span> <span class="n">mientras</span> <span class="n">condición</span> <span class="n">sea</span> <span class="n">verdadera</span>
<span class="linenos" data-linenos="3 "></span><span class="p">}</span>
</code></pre></div>
<p>Por ejemplo, la creación de la tabla de multiplicar de un número especificado por el usuario. Para resolver este problema sí se conoce el número de iteraciones necesarias, concretamente diez.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nv">$numero</span> <span class="p">=</span> <span class="nb">Read-Host</span> <span class="s2">&quot;Dame un número&quot;</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">Write-Host</span> <span class="s2">&quot;Esta es la tabla del $numero&quot;</span>
<span class="linenos" data-linenos="3 "></span><span class="k">for</span> <span class="p">(</span> <span class="nv">$i</span><span class="p">=</span><span class="n">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">-lt</span> <span class="n">11</span><span class="p">;</span> <span class="nv">$i</span><span class="p">++){</span>
<span class="linenos" data-linenos="4 "></span>    <span class="nb">Write-Host</span> <span class="s2">&quot; $i x $numero = &quot;</span><span class="p">(</span><span class="nv">$i</span><span class="p">*</span><span class="nv">$numero</span><span class="p">)</span>
<span class="linenos" data-linenos="5 "></span><span class="p">}</span>
</code></pre></div>
</div>
<h4 id="02powershell-foreach">foreach<a class="headerlink" href="#02powershell-foreach" title="Permanent link">&para;</a></h4>
<p>La estructura <code>foreach</code> en PowerShell es el equivalente a for en shellscript. Está pensada para recorrer un conjunto de valores y ejecutar el bloque de código una vez por cada elemento del conjunto.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">foreach</span> <span class="p">(</span> <span class="n">elemento</span> <span class="k">in</span> <span class="n">conjunto</span> <span class="p">){</span>
<span class="linenos" data-linenos="2 "></span>    <span class="n">bloque</span> <span class="n">de</span> <span class="n">código</span> <span class="n">a</span> <span class="n">ejecutar</span> <span class="n">por</span> <span class="n">cada</span> <span class="n">elemento</span> <span class="nb">del </span><span class="n">conjunto</span>
<span class="linenos" data-linenos="3 "></span><span class="p">}</span>
</code></pre></div>
<p>Al igual que ocurre en GNU/Linux, el conjunto puede serlo de cualquier tipo de objetos, incluso los ficheros de una carpeta. En el siguiente ejemplo se buscan los ficheros que en su nombre contengan la cadena de texto que el usuario ha especificado:</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nv">$ruta</span> <span class="p">=</span> <span class="s2">&quot;C:\Users\Administrador\Desktop&quot;</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$busca</span> <span class="p">=</span> <span class="nb">Read-Host</span> <span class="s2">&quot;Escribe el texto a buscar&quot;</span>
<span class="linenos" data-linenos="3 "></span><span class="k">foreach</span> <span class="p">(</span><span class="nv">$archivo</span> <span class="k">in</span> <span class="nb">Get-ChildItem</span> <span class="nv">$ruta</span><span class="p">){</span>
<span class="linenos" data-linenos="4 "></span>    <span class="k">if</span> <span class="p">(</span><span class="nv">$archivo</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">IndexOf</span><span class="p">(</span><span class="nv">$busca</span><span class="p">)</span> <span class="o">-ge</span> <span class="n">0</span><span class="p">){</span>
<span class="linenos" data-linenos="5 "></span>    <span class="nb">Write-Host</span> <span class="nv">$archivo</span><span class="p">.</span><span class="n">Name</span>
<span class="linenos" data-linenos="6 "></span>    <span class="p">}</span>
<span class="linenos" data-linenos="7 "></span><span class="p">}</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Las opciones que ofrece PowerShell en cuanto a estructuras de control parece una oferta más completa que la de shellscript, aunque para las tareas que se van a realizar en este módulo, ambos sistemas poseen herramientas suficientes.</p>
</div>
<hr />
<h2 id="02powershell-vectores-y-funciones">Vectores y Funciones<a class="headerlink" href="#02powershell-vectores-y-funciones" title="Permanent link">&para;</a></h2>
<h3 id="02powershell-vectores">Vectores<a class="headerlink" href="#02powershell-vectores" title="Permanent link">&para;</a></h3>
<p>PowerShell considera como un vector a toda colección de objetos, sea cual sea su tipo. Los elementos que lo conforman pueden estar separados por comas, estar expresados por el operador de rango <code>..</code> o ser el resultado de alguna expresión que devuelva una colección, como así lo hacen muchos cmdlets.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nv">$Vacia</span> <span class="p">=</span> <span class="p">@()</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$Enteros</span> <span class="p">=</span> <span class="n">1</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">3</span><span class="p">,</span><span class="n">4</span><span class="p">,</span><span class="n">5</span>
<span class="linenos" data-linenos="3 "></span><span class="nv">$Texto</span> <span class="p">=</span> <span class="s2">&quot;Lunes&quot;</span><span class="p">,</span><span class="s2">&quot;Martes&quot;</span><span class="p">,</span><span class="s2">&quot;Miércoles&quot;</span><span class="p">,</span> <span class="s2">&quot;Jueves&quot;</span><span class="p">,</span><span class="s2">&quot;Viernes&quot;</span>
<span class="linenos" data-linenos="4 "></span><span class="nv">$EnterosRango</span> <span class="p">=</span> <span class="n">1</span><span class="p">..</span><span class="n">10</span>
</code></pre></div>
</div>
<p>De esta forma se han definido cuatro vectores; el segundo contendrá enteros y el tercero cadenas de caracteres. La última línea asigna los valores desde el 1 al 10 utilizando el operador rango <code>..</code> .</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>El operador de <strong>rango</strong> representa una secuencia de enteros, con los límites superior e inferior separados por dos puntos decimales. Permite expresar el rango en orden ascendente o descendente, así como también que los límites inferior o superior sean establecidos por medio de variables que contengan enteros.</p>
</div>
<p>Un vector también puede definirse como el resultado de una expresión.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nv">$EnterosFor</span> <span class="p">=</span> <span class="p">@(</span><span class="k">For</span><span class="p">(</span><span class="nv">$i</span><span class="p">=</span><span class="n">1</span><span class="p">;</span><span class="nv">$i</span> <span class="o">-lt</span> <span class="n">5</span><span class="p">;</span><span class="nv">$i</span><span class="p">++){</span><span class="nv">$i</span><span class="p">})</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$Comando</span> <span class="p">=</span> <span class="nb">Get-Process</span> <span class="p">|</span> <span class="nb">Sort-Object</span> <span class="n">ProcessName</span>
</code></pre></div>
</div>
<p>En la primera línea <code>$EnterosFor</code> será completado a través del resultado de una estructura iterativa, mientras que la segunda contendrá el resultado del cmdlet indicado. Además de todas estas formas de declaración, también se puede realizar a través del cmdlet <code>New-Variable</code></p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nb">New-Variable</span> <span class="n">-Name</span> <span class="n">Enteros</span> <span class="n">-Value</span> <span class="n">1</span><span class="p">,</span><span class="n">2</span><span class="p">,</span><span class="n">3</span><span class="p">,</span><span class="n">4</span><span class="p">,</span><span class="n">5</span> <span class="n">-Force</span>
<span class="linenos" data-linenos="2 "></span><span class="nb">New-Variable</span> <span class="n">-Name</span> <span class="n">Texto</span> <span class="n">-Value</span> <span class="s2">&quot;Lunes&quot;</span><span class="p">,</span><span class="s2">&quot;Martes&quot;</span><span class="p">,</span><span class="s2">&quot;Miércoles&quot;</span><span class="p">,</span><span class="s2">&quot;Jueves&quot;</span><span class="p">,</span><span class="s2">&quot;Viernes&quot;</span> <span class="err">–</span><span class="n">Force</span>
<span class="linenos" data-linenos="3 "></span><span class="nb">New-Variable</span> <span class="n">-Name</span> <span class="n">EnterosRango</span> <span class="n">-Value</span> <span class="p">(</span><span class="n">1</span><span class="p">..</span><span class="n">5</span><span class="p">)</span> <span class="n">-Force</span>
<span class="linenos" data-linenos="4 "></span><span class="nb">New-Variable</span> <span class="n">-Name</span> <span class="n">EnterosFor</span> <span class="n">-value</span> <span class="p">(.</span> <span class="p">{</span><span class="k">For</span><span class="p">(</span><span class="nv">$i</span><span class="p">=</span><span class="n">1</span><span class="p">;</span><span class="nv">$i</span> <span class="o">-lt</span> <span class="n">5</span><span class="p">;</span><span class="nv">$i</span><span class="p">++){</span><span class="nv">$i</span><span class="p">}})</span> <span class="n">-Force</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>El atributo <code>-Force</code> sobrescribe la variable si esta ya existe, de ese modo no saltará ningún error a la hora de definir estas variables.</p>
</div>
<p>Para obtener el número de elementos de un vector se utiliza el método Length, si se aplica a un elemento del vector, devolverá el tamaño de este elemento, no del vector completo.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nv">$Texto</span><span class="p">.</span><span class="n">Length</span> <span class="c"># mostrará 5 por pantalla</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$Texto</span><span class="p">[</span><span class="n">2</span><span class="p">].</span><span class="n">Length</span> <span class="c"># mostrará 9, las letras de &quot;Miércoles&quot;</span>
</code></pre></div>
</div>
<p>Para añadir elementos al final de un vector se utiliza el operador <code>+=</code>.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="nv">$Enteros</span> <span class="p">+=</span> <span class="n">6</span>
<span class="linenos" data-linenos="2 "></span><span class="nv">$Texto</span> <span class="p">+=</span> <span class="s2">&quot;Sábado&quot;</span><span class="p">,</span> <span class="s2">&quot;Domingo&quot;</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>La primera línea añade el entero 6 al vector <code>$Enteros</code>, mientras que en la segunda se añaden los elementos "Sábado" y "Domingo" al vector <code>$Texto</code>.</p>
</div>
<p>Para eliminar un elemento de un vector PowerShell no ofrece un sistema parecido al de añadir valores, sino que tendrá que reescribirse el vector de nuevo sin los valores no deseados.</p>
<h3 id="02powershell-funciones">Funciones<a class="headerlink" href="#02powershell-funciones" title="Permanent link">&para;</a></h3>
<p>También en PowerShell es posible utilizar funciones a través de la siguiente estructura:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">Function</span> <span class="p">&lt;</span><span class="n">NOMBRE</span><span class="p">&gt;</span> <span class="p">{</span>
<span class="linenos" data-linenos="2 "></span>    <span class="k">Param</span> <span class="p">(&lt;</span><span class="n">Parametro</span><span class="p">&gt;,&lt;</span><span class="n">Parametro</span><span class="p">&gt;,...)</span>
<span class="linenos" data-linenos="3 "></span>        <span class="n">Comandos</span> <span class="n">PowerShell</span>
<span class="linenos" data-linenos="4 "></span><span class="p">}</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>El paso de parámetros a una función se realiza de idéntica forma que en shell script. <strong>La principal diferencia</strong> entre las funciones usadas en shell script es que ahora es preferible <strong>declarar y tipar</strong> antes de iniciar con el código de la función.</p>
</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span><span class="k">Function</span> <span class="nb">Get-Sumar</span> <span class="p">{</span>
<span class="linenos" data-linenos="2 "></span>    <span class="k">param</span> <span class="p">(</span><span class="no">[integer]</span> <span class="nv">$a</span><span class="p">,</span> <span class="no">[integer]</span> <span class="nv">$b</span><span class="p">)</span>
<span class="linenos" data-linenos="3 "></span>    <span class="nv">$sumar</span> <span class="p">=</span> <span class="nv">$a</span> <span class="p">+</span> <span class="nv">$b</span>
<span class="linenos" data-linenos="4 "></span>    <span class="nb">Write-Host</span> <span class="s2">&quot;La suma es $sumar&quot;</span>
<span class="linenos" data-linenos="5 "></span><span class="p">}</span>
</code></pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Si se ejecuta la siguiente instrucción: <code>Get-Sumar 2 8</code> La salida del terminal será <code>La suma es 10</code>.</p>
</div>
<p>Si se necesita que las funciones estén disponibles durante la sesión del usuario o si es necesario enlazarlas desde otro script, se deberá utilizar la notación de punto, del mismo modo que ocurría en shell script.</p>
<hr />
<h2 id="02powershell-actividades">Actividades<a class="headerlink" href="#02powershell-actividades" title="Permanent link">&para;</a></h2>
<div class="admonition tip">
<p class="admonition-title">Formato de entrega</p>
<p>Escribe el código de los scripts en <strong>PowerShell</strong> que se detallan en cada ejercicio. Deberás crear un fichero de texto para cada ejercicio con el siguiente nombre: ejXXX.ps1, donde las X representan el número de ejercicio. Una vez terminada la práctica, comprime todos estos ficheros en uno y súbelos al Moodle.</p>
</div>
<p><a name="AC201"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC201</strong>. (RA.7 // CE7a, CE7b, CE7g y CE7i // 1-3p) Genera un Script que muestre los <strong>procesos del sistema</strong> ordenados por el <strong>id</strong>.</li>
</ul>
<p><a name="AC202"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC202</strong>. (RA.7 // CE7a, CE7b, CE7g y CE7i // 1-3p) Muestra los servicios cuyo nombre empiece por la letra <code>n</code>, utilizando la creación de un script.</li>
</ul>
<p><a name="AC203"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC203</strong>. (RA.7 // CE7a, CE7b, CE7f y CE7i // 1-3p) Crea un script que se le introduzca dos números como argumentos y los muestre por pantalla.</li>
</ul>
<p><a name="AC204"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC204</strong>. (RA.7 // CE7a, CE7b, CE7f y CE7i // 1-3p) Diseña un script en PowerShell que pida al usuario dos números, los guarde en dos variables y los muestre por pantalla.</li>
</ul>
<p><a name="AC205"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC205</strong>. (RA.7 // CE7a, CE7b, CE7f y CE7i // 1-3p) Crea un script PowerShell que muestre por pantalla el resultado de de las siguientes operaciones. Debes tener en cuenta que a, b y c son variables enteras que son preguntadas al usuario al iniciar el script.<ul>
<li>a%b</li>
<li>a/c</li>
<li>2 * b + 3 * (a-c)</li>
<li>a * (b/c)</li>
<li>(a*c)%b</li>
</ul>
</li>
</ul>
<p><a name="AC206"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC206</strong>. (RA.7 // CE7a, CE7f y CE7i // 1-3p) Crea un script que si no se le pasa ningún argumento nos lo diga.</li>
</ul>
<p><a name="AC207"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC207</strong>. (RA.7 // CE7a, CE7f y CE7i // 1-3p) Crea un script PowerShell que al ejecutarlo muestre por pantalla uno de estos mensajes <strong>"Buenos días"</strong>, <strong>"Buenas tardes"</strong> o <strong>"Buenas noches"</strong>, en función de la hora que sea en el sistema (de 8:00 de la mañana a 15:00 será mañana, de 15:00 a 20:00 será tarde y el resto será noche). Usa el <code>cmdlet Get-Date</code>.</li>
</ul>
<p><a name="AC208"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC208</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7f y CE7i // 1-3p) Construye tres script PowerShell utilizando estructuras iterativas:<ol>
<li>el primero <strong>ej208A.ps1</strong>, que imprima la <strong>tabla de multiplicar</strong> de un número preguntado al usuario. Este número debe ser entero positivo.</li>
<li>el segundo <strong>ej208B.ps1</strong>, que pida un número e indique si se trata de un número par y si es número primo.</li>
<li>el tercero <strong>ej208C.ps1</strong>, que muestre las diez primeras tablas de multiplicar por pantalla. Hay un tiempo de espera de un segundo entre ellas. Utiliza las estructuras <strong>while, do while, for y foreach y el cmdlet Start-Sleep.</strong></li>
</ol>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">NOTA</p>
<p>Utiliza en la generación de los scripts los <strong>cmdlets</strong> de depuración si así lo consideras al haber encontrado problemas en la ejecución.</p>
</div>
<p><a name="AC209"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC209</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7f, CE7h y CE7i // 1-3p) Diseña un script PowerShell que lea un vector con 365 temperaturas y calcule la media y cuantos días han estado por encima y cuantos por debajo de ella. Rellena el vector con valores aleatorios entre -5 y 35, para ello usa Get-Random.</li>
</ul>
<p><a name="AC210"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC210</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h y CE7i // 1-3p) Crea un script PowerShell para que haga una <strong>copias de seguridad</strong> de todos los archivos del directorio de trabajo del usuario actual. Deberá realizar las siguientes acciones:<ul>
<li><strong>comprobará</strong> si el archivo ya existe en la copia de seguridad, si es así comprobará cual de los dos es más reciente y que tamaño tienen. Si es más reciente o posee un tamaño mayor, lo copiará. En cualquier otro caso, no lo copia.</li>
<li>llevará un <strong>registro</strong> de todos los archivos copiados cada vez que se ejecute mediante un archivo de bitácora. Guarda este fichero el directorio que contiene el script.</li>
</ul>
</li>
</ul>
<p>Crea una <strong>función</strong> para cada tarea realizada en este script.</p>
<div class="admonition note">
<p class="admonition-title">NOTA</p>
<p>Utiliza en la generación de los scripts los <strong>cmdlets</strong> de depuración si así lo consideras al haber encontrado problemas en la ejecución.</p>
</div>
<p><a name="AC211"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC211</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h y CE7i // 1-3p) Crea un script PowerShell que rellene un vector con diez números de <strong>forma aleatoria</strong> y que los <strong>muestre</strong> por pantalla de la siguiente forma:<ul>
<li>en <strong>orden inverso</strong> a como han sido introducidos los valores.</li>
<li>los valores ordenados de <strong>menor a mayor</strong> en una sola línea.</li>
<li>los valores ordenados de <strong>mayor a menor</strong> en una sola línea la suma total de sus valores.</li>
<li>cantidad de valores pares que contiene el vector.</li>
<li>la <strong>suma total</strong> de números impares.</li>
<li>la <strong>media aritmética</strong> de los valores que contiene el vector.</li>
</ul>
</li>
</ul>
<p><a name="AC212"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC212</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h y CE7i // 1-3p) Diseña un script PowerShell que muestre un menú al usuario con cuatro operaciones disponibles: <strong>Crear directorio, Eliminar directorio, Mostrar directorio, Informe de directorio, Copia de directorio y Salir</strong>. Una vez elegida una opción correcta, el programa debe <strong>solicitar un nombre de directorio</strong> y hacer la operación seleccionada. Tras esto debe mostrar un mensaje con el resultado de la operación. Crea una función para cada una de estas opciones.<ul>
<li>Si se elige la opción <strong>Informe de directorio</strong>, mostrará por pantalla el número de ficheros que contiene, cuantos son carpetas, cuantos directorios y el tamaño total de ellos. Si la carpeta no existe, mostrará un error.</li>
<li>Si elige la opción <strong>Copia de directorio</strong>, preguntará la carpeta de destino y mostrará fichero a fichero la copia.</li>
</ul>
</li>
</ul>
<p><a name="AC213"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.832 3.367 8.668.108a3.15 3.15 0 0 0-3.856 2.226L.943 16.777a3.15 3.15 0 0 0 2.226 3.856l12.163 3.259a3.15 3.15 0 0 0 3.855-2.226l3.87-14.443a3.15 3.15 0 0 0-2.226-3.856M6.332 2.741a1.574 1.574 0 0 1 1.928-1.113l12.163 3.26a1.574 1.574 0 0 1 1.113 1.927l-3.87 14.444a1.574 1.574 0 0 1-1.928 1.113l-12.163-3.26a1.574 1.574 0 0 1-1.113-1.927zm2.634 2.336a.787.787 0 1 0-.407 1.52l9.122 2.444a.787.787 0 1 0 .407-1.52zM6.985 9.434a.787.787 0 0 1 .963-.557l9.123 2.445a.787.787 0 0 1-.408 1.52l-9.122-2.444a.787.787 0 0 1-.556-.964m-.055 3.244a.787.787 0 0 0-.407 1.52l5.32 1.427a.787.787 0 0 0 .408-1.52z"/></svg></span> <strong>AC213</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h y CE7i // 1-3p) Realiza un script PowerShell que permita crear un informe de las IP libres en la red en la que se encuentra el equipo. Debe contener las siguientes opciones:<ul>
<li><strong>el informe contendrá</strong> un listado de todas las IP de la red a la que pertenece el equipo indicando si está libre o no (usa el comando ping).</li>
<li>en el informe debe aparecer el <strong>tipo de red</strong> (A, B o C) en el que está inmerso el ordenador con el <strong>nombre de la red, su broadcast y su máscara de subred.</strong></li>
</ul>
</li>
</ul>
<p><a name="RETO_GRUPAL"></a></p>
<ul>
<li><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 2c-.9 0-2 1-2 2H8c0-1-1.1-2-2-2H2v9c0 1 1 2 2 2h2.2c.4 2 1.7 3.7 4.8 4v2.08C8 19.54 8 22 8 22h8s0-2.46-3-2.92V17c3.1-.3 4.4-2 4.8-4H20c1 0 2-1 2-2V2zM6 11H4V4h2zm14 0h-2V4h2z"/></svg></span> <strong>RG214</strong>. (RA.7 // CE7a, CE7b, CE7c, CE7d, CE7e, CE7f, CE7g, CE7h y CE7i // 30p). Trabajo en grupos de 2 personas para crear un sistema completo de gestión de servicios de Windows que integre todos los conceptos aprendidos durante la unidad.<ul>
<li><strong><a href="#retogrupalpowershell">RETO GRUPAL: Sistema de Gestión de Servicios de Windows</a></strong>.<br />
<!-- * <a href="#solucionretogrupalpowershell.md">Consulta aquí la solución detallada del reto grupal</a> --></li>
</ul>
</li>
</ul>
<!-- * :clipboard: **Rúbrica de Evaluación:** Consulta los criterios de evaluación detallados en la [Rúbrica de Evaluación del Reto PowerShell](Rubrica_Evaluacion_RetoPowerShell.md). -->

<hr /></section></div><style>.print-site-enumerate-headings #index > h1:before { content: '1 ' }

                .print-site-enumerate-headings #index h2:before { content: '1.' counter(counter-index-2) ' ' }
                .print-site-enumerate-headings #index h2 {  counter-reset: counter-index-3 ;  counter-increment: counter-index-2 }
            
                .print-site-enumerate-headings #index h3:before { content: '1.' counter(counter-index-2) '.' counter(counter-index-3) ' ' }
                .print-site-enumerate-headings #index h3 {  counter-increment: counter-index-3 }
            
.print-site-enumerate-headings #01shellscript > h1:before { content: '2 ' }

                .print-site-enumerate-headings #01shellscript h2:before { content: '2.' counter(counter-01shellscript-2) ' ' }
                .print-site-enumerate-headings #01shellscript h2 {  counter-reset: counter-01shellscript-3 ;  counter-increment: counter-01shellscript-2 }
            
                .print-site-enumerate-headings #01shellscript h3:before { content: '2.' counter(counter-01shellscript-2) '.' counter(counter-01shellscript-3) ' ' }
                .print-site-enumerate-headings #01shellscript h3 {  counter-increment: counter-01shellscript-3 }
            
.print-site-enumerate-headings #02powershell > h1:before { content: '3 ' }

                .print-site-enumerate-headings #02powershell h2:before { content: '3.' counter(counter-02powershell-2) ' ' }
                .print-site-enumerate-headings #02powershell h2 {  counter-reset: counter-02powershell-3 ;  counter-increment: counter-02powershell-2 }
            
                .print-site-enumerate-headings #02powershell h3:before { content: '3.' counter(counter-02powershell-2) '.' counter(counter-02powershell-3) ' ' }
                .print-site-enumerate-headings #02powershell h3 {  counter-increment: counter-02powershell-3 }
            </style>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2025-2026 Francisco Javier Hernández Illán - <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.es">Licencia CC BY-NC-SA</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:<fj.hernandez@edu.gva.es>" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l217.6 163.2c11.4 8.5 27 8.5 38.4 0l217.6-163.2c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 176v208c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V176L294.4 339.2a63.9 63.9 0 0 1-76.8 0z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/fjavier-hernandez-illan" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  




  


<h4>Consentimiento de cookie</h4>
<p>Esta página de apuntes utiliza cookies para reconocer las visitas, medir la efectividad de la documentación y averiguar si encuentras aquello que buscas o cómo has llegado a estos apuntes. Con tu consentimiento, me ayudas a mejorar estos materiales.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Aceptar</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Gestionar cookies</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": "/aso/", "features": ["header.autohide", "navigation.top", "navigation.tracking", "navigation.footer", "navigation.indexes", "content.code.annotate", "announce.dismiss", "toc.follow", "content.code.copy"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="js/print-site.js"></script>
      
    
  </body>
</html>