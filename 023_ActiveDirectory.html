
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://javierhernadez81.github.io/aso2122/023_ActiveDirectory.html">
      
      <link rel="icon" href="imagenes/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.6">
    
    
      
        <title>2.3- Active Directory - Administración de Sistemas Operativos</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.802231af.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      

  


  

  


  <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-0CPJP88MBF"),document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof location$&&location$.subscribe(function(t){gtag("config","G-0CPJP88MBF",{page_path:t.pathname})})})</script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0CPJP88MBF"></script>


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="teal">
  
    
    <script>function __prefix(e){return new URL(".",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#directorio-activo-en-windows-server" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="index.html" title="Administración de Sistemas Operativos" class="md-header__button md-logo" aria-label="Administración de Sistemas Operativos" data-md-component="logo">
      
  <img src="imagenes/logofp.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Administración de Sistemas Operativos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2.3- Active Directory
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="teal"  aria-label="Cambiar a modo noche"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Cambiar a modo noche" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="teal"  aria-label="Cambiar a modo día"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Cambiar a modo día" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Limpiar" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Administración de Sistemas Operativos" class="md-nav__button md-logo" aria-label="Administración de Sistemas Operativos" data-md-component="logo">
      
  <img src="imagenes/logofp.png" alt="logo">

    </a>
    Administración de Sistemas Operativos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        Inicio
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        1.- Tools: Scripting y Docker
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="1.- Tools: Scripting y Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          1.- Tools: Scripting y Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="011_ShellScripting.html" class="md-nav__link">
        1.1- ShellScripting
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="012_PowerShell.html" class="md-nav__link">
        1.2- PowerShell
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="013_Docker.html" class="md-nav__link">
        1.3- Docker
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        2.- Administración de servicios de directorio
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="2.- Administración de servicios de directorio" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          2.- Administración de servicios de directorio
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="021_Introduccion_SD.html" class="md-nav__link">
        2.1- Introducción de servicios de directorio
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="022_LDAP.html" class="md-nav__link">
        2.2- LDAP
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          2.3- Active Directory
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="023_ActiveDirectory.html" class="md-nav__link md-nav__link--active">
        2.3- Active Directory
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#estructura-fisica-de-active-directory" class="md-nav__link">
    Estructura física de Active Directory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arquitectura-cliente-servidor" class="md-nav__link">
    Arquitectura cliente – servidor
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetos-del-directorio-activo" class="md-nav__link">
    Objetos del Directorio Activo
  </a>
  
    <nav class="md-nav" aria-label="Objetos del Directorio Activo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dominio" class="md-nav__link">
    Dominio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roles" class="md-nav__link">
    Roles
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diferencia-entre-grupo-de-trabajo-y-dominio" class="md-nav__link">
    Diferencia entre "Grupo de Trabajo" y "Dominio"
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unidad-organizativa" class="md-nav__link">
    Unidad Organizativa
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arboles" class="md-nav__link">
    Árboles:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bosques" class="md-nav__link">
    Bosques
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#servicios-de-ad-en-windows-server" class="md-nav__link">
    Servicios de AD en Windows Server
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ldap-y-kerberos" class="md-nav__link">
    LDAP y KERBEROS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actividades-iniciales-active-directory-ud02_5" class="md-nav__link">
    Actividades Iniciales Active Directory UD02_5
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actividades-desarrollo-active-directory-ud02_6" class="md-nav__link">
    Actividades Desarrollo Active Directory UD02_6
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#actividades-desarrollo-active-directory-ud02_7" class="md-nav__link">
    Actividades Desarrollo Active Directory UD02_7
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="directorio-activo-en-windows-server">Directorio Activo en Windows Server<a class="headerlink" href="#directorio-activo-en-windows-server" title="Permanent link">&para;</a></h1>
<p>Un servicio de directorio gestiona una base de datos organizada de modo jerárquico con el objetivo de administrar de una manera sencilla los recursos de una red, almacenando información de cada elemento de la red de manera estructurada, lo que permite facilitar el proceso de búsqueda de los recursos y de autenticación dentro de la red.</p>
<h2 id="estructura-fisica-de-active-directory">Estructura física de Active Directory<a class="headerlink" href="#estructura-fisica-de-active-directory" title="Permanent link">&para;</a></h2>
<p>El <strong>Directorio Activo o Active Directory</strong>, durante este módulo se utilizarán indistintamente ambos nombres; forma parte del <strong>subsistema de seguridad</strong> de Windows Server ejecutándose en modo usuario. </p>
<figure>
  <img src="./imagenes/02/001_EstructurafisicadeAD.png" width="900"/>
  <figcaption>Estructura física de AD</figcaption>
</figure>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Las aplicaciones que se ejecutan en este modo no tienen acceso directo al sistema operativo ni al hardware, sino que como medida de seguridad, las peticiones realizadas a estos deben pasar previamente por un subsistema de seguridad y posteriormente por la capa de servicios ejecutivos.</p>
</div>
<h2 id="arquitectura-cliente-servidor">Arquitectura cliente – servidor<a class="headerlink" href="#arquitectura-cliente-servidor" title="Permanent link">&para;</a></h2>
<p>Active Directory también esta basado en el modelo <strong>cliente-servidor</strong> es aquel en el que existen varios clientes, los cuales realizan peticiones a un servidor.</p>
<figure>
  <img src="imagenes/02/ClienteServidor.png" width="400"/>
  <figcaption>Esquema de red cliente servidor</figcaption>
</figure>

<p>Un servidor puede ser:</p>
<ul>
<li><strong>Dedicado</strong> : La máquina servidor sólo se dedica a tareas de servicios en la red</li>
<li><strong>No dedicado</strong> : Además de los servicios, la máquina se puede usar como un puesto de trabajo más.</li>
</ul>
<h2 id="objetos-del-directorio-activo">Objetos del Directorio Activo<a class="headerlink" href="#objetos-del-directorio-activo" title="Permanent link">&para;</a></h2>
<p>El Directorio Activo <strong>es una implementación concreta del protocolo LDAP</strong>. Este protocolo trata los elementos de la red como
objetos. Los tipos de objetos básicos que existen en el Directorio Activo son:</p>
<ul>
<li>Usuarios.</li>
<li>Grupos.</li>
<li>Equipos.</li>
<li>Dominios.</li>
<li>Impresoras.</li>
<li>Unidades Organizativas.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Sin embargo los administradores de sistemas pueden crear nuevos tipos de objetos o añadir propiedades a alguna clase de
los objetos modificando el esquema del Directorio Activo, para adaptar la estructura de la red a las necesidades particulares de la organización.</p>
</div>
<h3 id="dominio">Dominio<a class="headerlink" href="#dominio" title="Permanent link">&para;</a></h3>
<p>Representa un conjunto de equipos (clientes y servidores) que comparten una política de seguridad y una base de datos común. </p>
<p>En concreto para el <strong>Directorio Activo de Windows</strong>:</p>
<ul>
<li><strong>Componente fundamental</strong> de la estructura lógica de Active Directory. </li>
<li>Por <strong>definición</strong>, se trata de un conjunto de objetos de tipo equipo, usuario y otras clases de objetos que comparten una base de datos de directorio común.</li>
</ul>
<p>Los servidores pueden ser:</p>
<ul>
<li>
<p><strong>Controladores de dominio</strong> : Contienen las cuentas de usuario y de otros datos del <strong>Directorio Activo</strong>. </p>
<ul>
<li>Debe haber al menos <strong>1 por cada dominio</strong>.</li>
</ul>
</li>
<li>
<p><strong>Servidores miembros del dominio</strong> : Se utilizan para almacenamiento de archivos y otros recursos compartidos en la red. No contienen información vital como cuentas de usuarios o políticas de grupos.</p>
</li>
</ul>
<figure>
  <img src="imagenes/02/MiembroDominioAD.png" width="600"/>
  <figcaption>Servidores de Dominio</figcaption>
</figure>

<h3 id="roles">Roles<a class="headerlink" href="#roles" title="Permanent link">&para;</a></h3>
<p>Un rol de servidor es un <strong>conjunto de programas que permiten a un equipo realizar una función específica</strong> para varios usuarios u otros equipos de una red. Básicamente está relacionado con el cometido de dicho servidor, un servidor puede tener múltiples roles.</p>
<p>Ejemplos:</p>
<ul>
<li>Servidor <strong>DHCP</strong>.</li>
<li>Servidor <strong>DNS</strong>.</li>
<li>Servidor <strong>Active Directory</strong>.</li>
<li>Servidor de virtualización (<strong>Hyper-V</strong>).</li>
<li>Servidor Web.</li>
<li>Acceso remoto.</li>
<li>Servidor de impresión.</li>
<li>Servidor de correo electrónico.</li>
</ul>
<p>A su vez, un rol puede tener diferentes funcionalidades o subroles, los cuales pueden estar activados o no. Dichos “subroles” son <strong>servicios de rol</strong>. </p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>un Servidor <strong>DNS</strong> solo tiene una finalidad y, por lo tanto, no tienen servicios de rol disponibles. En cambio un Servicio de Archivos (para compartir ficheros) puede tener el servicio de rol para el protocolo NFS o no, es decir, puede tener habilitada la función de servidor de ficheros NFS.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Network File System, o NFS</strong>, es un protocolo de nivel de aplicación, según el Modelo OSI. Es utilizado para sistemas de archivos distribuido en un entorno de red de computadoras de área local. Posibilita que distintos sistemas conectados a una misma red accedan a ficheros remotos como si se tratara de locales.</p>
</div>
<ul>
<li>Para Agregar Roles:</li>
</ul>
<p><img alt="" src="imagenes/02/AddRolAD.png" /></p>
<h3 id="diferencia-entre-grupo-de-trabajo-y-dominio">Diferencia entre "Grupo de Trabajo" y "Dominio"<a class="headerlink" href="#diferencia-entre-grupo-de-trabajo-y-dominio" title="Permanent link">&para;</a></h3>
<figure>
  <img src="imagenes/02/DiffGTDom.png" width="400"/>
  <figcaption>Configuración "Grupo de Trabajo" y "Dominio".</figcaption>
</figure>

<ul>
<li><strong>Grupo de trabajo</strong>: es un conjunto de ordenadores comunicados entre sí, que forman parte de un mismo grupo. No obstante toda la gestión de políticas/grupos/usuarios/servicios/… son individuales por cada máquina. </li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Es decir, en un directorio activo yo creo un usuario y desde cualquier máquina asociada al dominio me puedo registrar, en el caso de un grupo de trabajo deberá estar creado el usuario manualmente en cada equipo del grupo de trabajo, y así con las políticas de grupo, etc.</p>
</div>
<ul>
<li><strong>Dominio</strong> como ya hemos visto (OpenLDAP) desde un servidor podemos gestionarlo todo, políticas de grupo, usuarios, servicios, seguridad, recursos accesibles, etc.</li>
</ul>
<h4 id="ventajasdesventajas-de-un-grupo-de-trabajo-frente-a-un-dominio">Ventajas/Desventajas de un "Grupo de Trabajo" frente a un "Dominio"<a class="headerlink" href="#ventajasdesventajas-de-un-grupo-de-trabajo-frente-a-un-dominio" title="Permanent link">&para;</a></h4>
<ul>
<li>Es más <strong>barato</strong> (no necesita un servidor y licencias).</li>
<li>La gestión es mucho más tediosa porque tienes que hacerla equipo por equipo, mientras que en un dominio solo debes configurar el servidor, por tanto es <strong>menos escalable</strong> (imagina tener 200 ordenadores en un grupo de trabajo).</li>
<li>El grupo de trabajo es mucho más <strong>inseguro</strong> , puesto que es más fácil controlar políticas de seguridad a través de un servidor con políticas generalizadas para todos los equipos, ya que no todos los usuarios tienen un conocimiento suficiente de informática.</li>
<li>Con el grupo de trabajo será mucho <strong>más tedioso implementar servicios</strong> , por ejemplo un servidor de correo.</li>
</ul>
<h3 id="unidad-organizativa">Unidad Organizativa<a class="headerlink" href="#unidad-organizativa" title="Permanent link">&para;</a></h3>
<p>Las <strong>unidades organizativas</strong> nos ayudan a organizar los objetos de nuestro dominio (impresoras, usuarios, grupos, …). 
 * Es parecido a la estructura de directorios (carpetas) de un sistema operativo, <strong>por ejemplo</strong>, dentro de nuestro dominio podemos tener una unidad organizativa por cada departamento de la empresa.</p>
<p>En el siguiente ejemplo vemos un dominio con una unidad organizativa para usuarios de "<em>Contabilidad</em>", "<em>Recursos Humanos</em>", "<em>Informáticos</em>"y "<em>Marketing</em>".</p>
<figure>
  <img src="imagenes/02/UO_AD.png" width="400"/>
  <figcaption>Unidades Organizativas en Active Directory</figcaption>
</figure>

<h3 id="arboles">Árboles:<a class="headerlink" href="#arboles" title="Permanent link">&para;</a></h3>
<p>Se da en redes muy grandes donde nos interesa segmentar en subdominios, de tal forma que el tráfico o las peticiones de los usuarios al servidor de un subdominio no llegan al servidor raíz y por nos ayuda con el balanceo de carga de trabajo y ahorro en el ancho de banda de la red. No obstante la gestión sigue siendo centralizada desde el servidor raíz. Similar a DNS.</p>
<figure>
  <img src="imagenes/02/DIT_AD.png" width="400"/>
  <figcaption>Objetos en Active Directory.</figcaption>
</figure>

<h3 id="bosques">Bosques<a class="headerlink" href="#bosques" title="Permanent link">&para;</a></h3>
<p>Un bosque es la unión de diferentes árboles o dominios que <strong>confían</strong> entre ellos, pero son dominios totalmente diferentes (salva.com y pepe.com). Al haber una confianza entre ellos tendrán la posibilidad los usuarios de un dominio acceder a los recursos o a ciertos recursos del otro dominio que comparten el mismo bosque.</p>
<figure>
  <img src="imagenes/02/EjemDIT_AD.png" width="400"/>
  <figcaption>Ejemplo de Objetos en Active Directory.</figcaption>
</figure>

<h2 id="servicios-de-ad-en-windows-server">Servicios de AD en Windows Server<a class="headerlink" href="#servicios-de-ad-en-windows-server" title="Permanent link">&para;</a></h2>
<p>Cuando vayamos a añadir nuestro rol de Active Directory al servidor, veremos que tenemos diferentes roles de Active Directory:</p>
<p><img alt="" src="imagenes/02/RolActiveD.png" /></p>
<ul>
<li>
<p><strong>Active Directory Lightweight Directory Services</strong> : Se trata de un Active Directory &quot;light&quot;, no require de un dominio para su uso, simplemente alberga opciones/características para ciertas aplicaciones que nos interese.</p>
</li>
<li>
<p><strong>Active Directory Rights Management Services</strong> : Nos ayuda a gestionar la protección del acceso a nuestros ficheros del directorio activo. Por ejemplo si un documento se intenta abrir desde un usuario no autorizado.</p>
</li>
<li>
<p><strong>Servicios de certificados de Active Directory</strong> : Simplemente gestiona la creación de certificados digitales. Es para entidades de certificación oficial (seguridad informática).</p>
</li>
<li>
<p><strong>Servicios de dominio de Active Directory:</strong> Este va a ser la opción que veremos en el módulo. Es el active directory que hemos visto con <strong>OpenLDAP</strong> en el apartado de Linux.</p>
</li>
<li>
<p><strong>Servicio de federación de Active Directory:</strong> Gestiona el acceso seguro desde dentro y desde fuera de tu red (Internet) a aplicaciones gestionadas en local por el servidor de Windows Active Directory. Obviamente con las credenciales de usuarios del active directory.</p>
</li>
</ul>
<h2 id="ldap-y-kerberos">LDAP y KERBEROS<a class="headerlink" href="#ldap-y-kerberos" title="Permanent link">&para;</a></h2>
<p>La base de datos de los usuarios, almacenada a través de <strong>LDAP</strong> se almacena en los controladores de dominio. </p>
<ul>
<li>Además el fichero &quot; <strong>ntds.dit</strong>&quot; será el que almacene realmente dicha base de datos.</li>
</ul>
<p>La autenticación de los usuarios se realizará a través de <strong>Kerberos</strong>.</p>
<ul>
<li><strong>Kerberos</strong> es un protocolo de autenticación de redes de ordenador creado por el MIT que permite a dos ordenadores en una red insegura demostrar su identidad mutuamente de manera segura.</li>
</ul>
<h2 id="actividades-iniciales-active-directory-ud02_5">Actividades Iniciales Active Directory UD02_5<a class="headerlink" href="#actividades-iniciales-active-directory-ud02_5" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p><a href="Practica01_AD.html">Windows Server</a></p>
</li>
<li>
<p><a href="Practica02_AD.html">Configuración Básica Windows Server</a></p>
</li>
<li>
<p><a href="Practica03_AD.html">Configuración Básica Windows Server II</a></p>
</li>
</ol>
<h2 id="actividades-desarrollo-active-directory-ud02_6">Actividades Desarrollo Active Directory UD02_6<a class="headerlink" href="#actividades-desarrollo-active-directory-ud02_6" title="Permanent link">&para;</a></h2>
<ol start="4">
<li>
<p><a href="Practica04_AD.html">Instalación Active Directory I</a></p>
</li>
<li>
<p><a href="Practica05_AD.html">Instalación Active Directory II</a></p>
</li>
<li>
<p><a href="Practica06_AD.html">Administración de Usuarios y Grupos</a></p>
</li>
</ol>
<h2 id="actividades-desarrollo-active-directory-ud02_7">Actividades Desarrollo Active Directory UD02_7<a class="headerlink" href="#actividades-desarrollo-active-directory-ud02_7" title="Permanent link">&para;</a></h2>
<ol start="7">
<li>
<p><a href="Practica07_AD.html">Caso Práctico: Creación de una estructura en AD</a> (<strong>Ampliación</strong>)</p>
</li>
<li>
<p><a href="Practica08_AD.html">Permisos, directivas de grupo y perfiles I</a></p>
</li>
<li>
<p><a href="Practica09_AD.html">Permisos, directivas de grupo y perfiles II</a> (<strong>Ampliación</strong>)</p>
</li>
</ol>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Pie">
      
        
        <a href="022_LDAP.html" class="md-footer__link md-footer__link--prev" aria-label="Anterior: 2.2- LDAP" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Anterior
              </span>
              2.2- LDAP
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            2021-2022 Fº Javier Hernández - Licencia CC BY-NC-SA
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="mailto:<fj.hernandez@edu.gva.es>" target="_blank" rel="noopener" title="" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM178.117 262.104C87.429 196.287 88.353 196.121 64 177.167V152c0-13.255 10.745-24 24-24h272c13.255 0 24 10.745 24 24v25.167c-24.371 18.969-23.434 19.124-114.117 84.938-10.5 7.655-31.392 26.12-45.883 25.894-14.503.218-35.367-18.227-45.883-25.895zM384 217.775V360c0 13.255-10.745 24-24 24H88c-13.255 0-24-10.745-24-24V217.775c13.958 10.794 33.329 25.236 95.303 70.214 14.162 10.341 37.975 32.145 64.694 32.01 26.887.134 51.037-22.041 64.72-32.025 61.958-44.965 81.325-59.406 95.283-70.199z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": ["header.autohide", "toc.integrate"], "translations": {"clipboard.copy": "Copiar al portapapeles", "clipboard.copied": "Copiado al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "B\u00fasqueda", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.term.missing": "Falta", "select.version.title": "Seleccionar versi\u00f3n"}, "search": "assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.756773cc.min.js"></script>
      
    
  </body>
</html>